<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Synesthesia - MIDI Visualizer Collection</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@300;400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;500;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'VT323', monospace;
            background: #000;
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* Animated background */
        .bg-gradient {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at top, rgba(58, 134, 255, 0.15) 0%, transparent 50%),
                        radial-gradient(ellipse at bottom, rgba(131, 56, 236, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }
        
        .container {
            position: relative;
            z-index: 1;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
        }
        
        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px 20px 40px;
            position: relative;
        }
        
        .hero-content {
            max-width: 900px;
            margin-bottom: 15px;
        }
        
        .title-container {
            margin-bottom: 15px;
        }
        
        .title-wave {
            margin-bottom: 0px;
        }
        
        .title-wave canvas {
            max-width: 100%;
            height: auto;
        }
        
        .subtitle {
            font-size: 16px;
            color: #888;
            font-weight: 300;
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-top: 10px;
        }
        
        .hero-description {
            font-size: 14px;
            color: #aaa;
            line-height: 1.6;
            max-width: 600px;
            margin: 15px auto 25px;
        }
        
        /* Main Visual - Circular Rainbow */
        .main-visual {
            position: relative;
            width: 550px;
            height: 550px;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .rainbow-circle {
            position: absolute;
            width: 100%;
            height: 100%;
        }
        
        /* Navigation Grid - Centered over visual */
        .nav-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            z-index: 10;
        }
        
        .nav-card {
            background: rgba(10, 10, 20, 0.95);
            border: 2px solid rgba(58, 134, 255, 0.4);
            border-radius: 14px;
            padding: 16px 24px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            min-width: 110px;
        }
        
        .nav-card:hover {
            transform: scale(1.05);
            border-color: rgba(58, 134, 255, 0.8);
            background: rgba(20, 20, 40, 0.98);
            box-shadow: 0 10px 40px rgba(58, 134, 255, 0.4);
        }
        
        .nav-card h3 {
            font-size: 13px;
            font-weight: 600;
            color: #fff;
            white-space: nowrap;
        }
        
        /* Theme Toggle */
        .theme-toggle {
            position: absolute;
            bottom: 100px;
            right: 50px;
            background: rgba(20, 20, 30, 0.8);
            border: 2px solid rgba(58, 134, 255, 0.3);
            border-radius: 10px;
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            font-size: 14px;
            font-weight: 600;
            color: #fff;
        }
        
        .theme-toggle:hover {
            border-color: rgba(58, 134, 255, 0.6);
            background: rgba(30, 30, 50, 0.9);
        }
        
        /* Sketches Gallery */
        .sketches-section {
            padding: 80px 0;
            background: linear-gradient(180deg, transparent 0%, rgba(20, 20, 30, 0.3) 50%, transparent 100%);
        }
        
        .section-title {
            text-align: center;
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 50px;
            background: linear-gradient(135deg, #3a86ff, #8338ec);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .sketches-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            max-width: 800px;
            margin: 0 auto 40px;
        }
        
        .sketch-card {
            background: rgba(20, 20, 30, 0.6);
            border: 2px solid rgba(58, 134, 255, 0.2);
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .sketch-card:hover {
            border-color: rgba(58, 134, 255, 0.5);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(58, 134, 255, 0.2);
        }
        
        .sketch-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        
        .sketch-card h4 {
            font-size: 18px;
            color: #3a86ff;
            margin-bottom: 8px;
        }
        
        .sketch-card p {
            font-size: 14px;
            color: #aaa;
            line-height: 1.6;
        }
        
        /* Visualizers Gallery */
        .visualizers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .visualizer-card {
            background: rgba(20, 20, 30, 0.6);
            border: 2px solid rgba(58, 134, 255, 0.2);
            border-radius: 15px;
            padding: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .visualizer-card:hover {
            border-color: rgba(58, 134, 255, 0.5);
            transform: translateY(-5px);
        }
        
        .visualizer-card img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 10px;
        }
        
        .visualizer-card h5 {
            font-size: 14px;
            color: #fff;
            margin-bottom: 5px;
        }
        
        /* Content Sections */
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease;
            padding: 40px 20px 80px;
            min-height: 100vh;
        }
        
        .content-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(58, 134, 255, 0.3);
        }
        
        .back-btn {
            background: rgba(58, 134, 255, 0.2);
            border: 2px solid rgba(58, 134, 255, 0.3);
            color: #fff;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-right: 20px;
            border: none;
        }
        
        .back-btn:hover {
            background: rgba(58, 134, 255, 0.3);
        }
        
        .section-header h2 {
            font-size: 32px;
            font-weight: 600;
            color: #3a86ff;
        }
        
        /* Version Cards */
        .versions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .version-card {
            background: rgba(20, 20, 30, 0.8);
            border: 2px solid rgba(58, 134, 255, 0.2);
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .version-card:hover {
            border-color: rgba(58, 134, 255, 0.5);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(58, 134, 255, 0.2);
        }
        
        .version-card h4 {
            font-size: 22px;
            margin-bottom: 10px;
            color: #3a86ff;
        }
        
        .version-card p {
            font-size: 14px;
            color: #aaa;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .version-badge {
            display: inline-block;
            background: rgba(58, 134, 255, 0.2);
            color: #3a86ff;
            padding: 5px 12px;
            border-radius: 5px;
            font-size: 12px;
            font-weight: 600;
            margin-right: 8px;
            margin-bottom: 8px;
        }
        
        .launch-btn {
            display: inline-block;
            background: linear-gradient(135deg, #3a86ff, #8338ec);
            color: #fff;
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
            margin-top: 10px;
        }
        
        .launch-btn:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(58, 134, 255, 0.4);
        }
        
        /* Info Boxes */
        .info-box {
            background: rgba(20, 20, 30, 0.6);
            border-left: 4px solid #3a86ff;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
        }
        
        .info-box h4 {
            color: #3a86ff;
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        .info-box p, .info-box ul {
            color: #ccc;
            font-size: 14px;
            line-height: 1.8;
        }
        
        .info-box ul {
            margin-left: 20px;
            margin-top: 10px;
        }
        
        .info-box li {
            margin-bottom: 8px;
        }
        
        /* Timeline */
        .timeline {
            position: relative;
            padding-left: 40px;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: rgba(58, 134, 255, 0.3);
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            padding-left: 30px;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -47px;
            top: 5px;
            width: 12px;
            height: 12px;
            background: #3a86ff;
            border-radius: 50%;
            border: 3px solid #000;
        }
        
        .timeline-date {
            color: #3a86ff;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .timeline-content {
            background: rgba(20, 20, 30, 0.6);
            padding: 15px;
            border-radius: 8px;
            border: 1px solid rgba(58, 134, 255, 0.2);
        }
        
        .timeline-content h4 {
            margin-bottom: 8px;
            color: #fff;
        }
        
        .timeline-content p {
            color: #aaa;
            font-size: 14px;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            margin-top: 80px;
            padding: 30px;
            border-top: 1px solid rgba(58, 134, 255, 0.2);
            color: #666;
            font-size: 14px;
        }
        
        /* Font Selector Toolbar */
        .font-toolbar {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(20, 20, 30, 0.95);
            border: 2px solid rgba(58, 134, 255, 0.4);
            border-radius: 15px;
            padding: 15px 20px;
            z-index: 1000;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            display: none; /* Hidden by default */
        }
        
        .font-toolbar.show {
            display: block; /* Show when in settings */
        }
        
        .font-toolbar-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(58, 134, 255, 0.3);
        }
        
        .font-size-controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(58, 134, 255, 0.2);
        }
        
        .font-size-label {
            font-size: 11px;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }
        
        .font-size-slider-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .font-size-slider {
            flex: 1;
            height: 6px;
            border-radius: 3px;
            background: rgba(58, 134, 255, 0.2);
            outline: none;
            -webkit-appearance: none;
            cursor: pointer;
        }
        
        .font-size-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #3a86ff;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .font-size-slider::-webkit-slider-thumb:hover {
            background: #5a9fff;
            transform: scale(1.2);
        }
        
        .font-size-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #3a86ff;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
        }
        
        .font-size-slider::-moz-range-thumb:hover {
            background: #5a9fff;
            transform: scale(1.2);
        }
        
        .font-size-value {
            font-size: 13px;
            color: #3a86ff;
            font-weight: 600;
            min-width: 45px;
            text-align: right;
        }
        
        .font-size-buttons {
            display: flex;
            gap: 5px;
            justify-content: space-between;
        }
        
        .font-size-btn {
            flex: 1;
            background: rgba(30, 30, 50, 0.6);
            border: 2px solid rgba(58, 134, 255, 0.2);
            border-radius: 6px;
            padding: 6px 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 11px;
            color: #aaa;
            font-weight: 600;
        }
        
        .font-size-btn:hover {
            border-color: rgba(58, 134, 255, 0.5);
            background: rgba(40, 40, 60, 0.8);
            color: #fff;
        }
        
        .font-size-btn:active {
            transform: scale(0.95);
        }
        
        .font-toolbar-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(58, 134, 255, 0.3);
        }
        
        .font-toolbar-title {
            font-size: 12px;
            font-weight: 600;
            color: #3a86ff;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .font-toolbar-toggle {
            background: none;
            border: none;
            color: #fff;
            font-size: 18px;
            cursor: pointer;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .font-toolbar-toggle:hover {
            color: #3a86ff;
            transform: scale(1.2);
        }
        
        .font-options {
            display: flex;
            flex-direction: column;
            gap: 8px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .font-options.collapsed {
            display: none;
        }
        
        .font-option {
            background: rgba(30, 30, 50, 0.6);
            border: 2px solid rgba(58, 134, 255, 0.2);
            border-radius: 8px;
            padding: 10px 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 13px;
            color: #aaa;
            text-align: left;
            white-space: nowrap;
        }
        
        .font-option:hover {
            border-color: rgba(58, 134, 255, 0.5);
            background: rgba(40, 40, 60, 0.8);
            color: #fff;
        }
        
        .font-option.active {
            border-color: #3a86ff;
            background: rgba(58, 134, 255, 0.2);
            color: #3a86ff;
            font-weight: 600;
        }
        
        .font-preview {
            font-size: 11px;
            opacity: 0.7;
            margin-top: 3px;
        }
        
        /* Scrollbar styling for font options */
        .font-options::-webkit-scrollbar {
            width: 6px;
        }
        
        .font-options::-webkit-scrollbar-track {
            background: rgba(20, 20, 30, 0.5);
            border-radius: 3px;
        }
        
        .font-options::-webkit-scrollbar-thumb {
            background: rgba(58, 134, 255, 0.5);
            border-radius: 3px;
        }
        
        .font-options::-webkit-scrollbar-thumb:hover {
            background: rgba(58, 134, 255, 0.7);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .font-toolbar {
                top: 10px;
                right: 10px;
                left: 10px;
                max-width: calc(100% - 20px);
            }
            
            .font-options {
                max-height: 300px;
            }
        }
        
        /* Admin Panel Styles */
        .admin-input {
            width: 100%;
            padding: 10px 15px;
            background: rgba(20, 20, 30, 0.8);
            border: 2px solid rgba(58, 134, 255, 0.3);
            border-radius: 8px;
            color: #fff;
            font-size: 14px;
            font-family: inherit;
            transition: all 0.3s ease;
        }
        
        .admin-input:focus {
            outline: none;
            border-color: rgba(58, 134, 255, 0.6);
            background: rgba(30, 30, 40, 0.9);
        }
        
        .admin-textarea {
            width: 100%;
            padding: 10px 15px;
            background: rgba(20, 20, 30, 0.8);
            border: 2px solid rgba(58, 134, 255, 0.3);
            border-radius: 8px;
            color: #fff;
            font-size: 14px;
            font-family: inherit;
            transition: all 0.3s ease;
            resize: vertical;
            min-height: 80px;
        }
        
        .admin-textarea:focus {
            outline: none;
            border-color: rgba(58, 134, 255, 0.6);
            background: rgba(30, 30, 40, 0.9);
        }
        
        /* Edit Mode Toggle Button */
        .edit-mode-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: rgba(58, 134, 255, 0.2);
            border: 2px solid rgba(58, 134, 255, 0.4);
            border-radius: 50px;
            padding: 15px 25px;
            color: #fff;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 999;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }
        
        .edit-mode-toggle:hover {
            background: rgba(58, 134, 255, 0.3);
            border-color: rgba(58, 134, 255, 0.6);
            transform: scale(1.05);
        }
        
        .edit-mode-toggle.active {
            background: rgba(100, 255, 100, 0.3);
            border-color: rgba(100, 255, 100, 0.6);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { box-shadow: 0 5px 20px rgba(100, 255, 100, 0.3); }
            50% { box-shadow: 0 5px 30px rgba(100, 255, 100, 0.6); }
        }
        
        /* Editable elements in edit mode */
        .editable {
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
            border-radius: 4px;
            padding: 2px 4px;
            margin: -2px -4px;
        }
        
        .editable:hover {
            background: rgba(58, 134, 255, 0.2);
            outline: 2px dashed rgba(58, 134, 255, 0.5);
            outline-offset: 2px;
        }
        
        .editable::after {
            content: '‚úèÔ∏è';
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .editable:hover::after {
            opacity: 1;
        }
        
        /* Edit input overlay */
        .edit-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            animation: fadeIn 0.3s ease;
        }
        
        .edit-dialog {
            background: rgba(20, 20, 30, 0.95);
            border: 2px solid rgba(58, 134, 255, 0.5);
            border-radius: 15px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            backdrop-filter: blur(10px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        
        .edit-dialog h3 {
            color: #3a86ff;
            margin-bottom: 15px;
            font-size: 20px;
        }
        
        .edit-dialog input,
        .edit-dialog textarea {
            width: 100%;
            padding: 12px 15px;
            background: rgba(30, 30, 40, 0.8);
            border: 2px solid rgba(58, 134, 255, 0.3);
            border-radius: 8px;
            color: #fff;
            font-size: 16px;
            font-family: inherit;
            margin-bottom: 15px;
        }
        
        .edit-dialog textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .edit-dialog input:focus,
        .edit-dialog textarea:focus {
            outline: none;
            border-color: rgba(58, 134, 255, 0.6);
        }
        
        .edit-dialog-buttons {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }
        
        .edit-dialog-buttons button {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .edit-dialog-buttons .save-btn {
            background: linear-gradient(135deg, #3a86ff, #8338ec);
            color: #fff;
        }
        
        .edit-dialog-buttons .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(58, 134, 255, 0.4);
        }
        
        .edit-dialog-buttons .cancel-btn {
            background: rgba(255, 100, 100, 0.3);
            color: #fff;
        }
        
        .edit-dialog-buttons .cancel-btn:hover {
            background: rgba(255, 100, 100, 0.5);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .main-visual {
                width: 350px;
                height: 350px;
            }
            
            .nav-overlay {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .sketches-grid {
                grid-template-columns: 1fr;
            }
            
            .theme-toggle {
                position: static;
                margin: 30px auto;
                display: block;
                width: fit-content;
            }
        }
        
        /* Enhanced Versions Section Styles */
        .version-category {
            margin-bottom: 30px;
            border: 2px solid rgba(58, 134, 255, 0.2);
            border-radius: 15px;
            overflow: hidden;
            background: rgba(20, 20, 30, 0.4);
        }

        .category-header {
            padding: 20px 25px;
            background: rgba(58, 134, 255, 0.1);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.3s ease;
            border-bottom: 2px solid rgba(58, 134, 255, 0.2);
        }

        .category-header:hover {
            background: rgba(58, 134, 255, 0.15);
        }

        .category-header h3 {
            font-size: 22px;
            color: #3a86ff;
            margin: 0;
            font-weight: 600;
        }

        .category-count {
            font-size: 14px;
            color: #888;
            margin-left: auto;
            margin-right: 20px;
        }

        .category-toggle {
            font-size: 18px;
            color: #3a86ff;
            transition: transform 0.3s ease;
        }

        .category-header.collapsed .category-toggle {
            transform: rotate(-90deg);
        }

        .category-content {
            padding: 25px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            max-height: 2000px;
            overflow: hidden;
            transition: max-height 0.5s ease, padding 0.5s ease;
        }

        .category-content.collapsed {
            max-height: 0;
            padding: 0 25px;
        }

        .version-card-enhanced {
            background: rgba(20, 20, 30, 0.8);
            border: 2px solid rgba(58, 134, 255, 0.2);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .version-card-enhanced:hover {
            border-color: rgba(58, 134, 255, 0.5);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(58, 134, 255, 0.3);
        }

        .version-image-container {
            position: relative;
            width: 100%;
            height: 250px;
            overflow: hidden;
            background: #111;
        }

        .version-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .version-card-enhanced:hover .version-image {
            transform: scale(1.05);
        }

        .version-badges {
            position: absolute;
            top: 10px;
            left: 10px;
            display: flex;
            gap: 8px;
            z-index: 10;
        }

        .version-badge-enhanced {
            background: rgba(20, 20, 30, 0.9);
            color: #3a86ff;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(58, 134, 255, 0.3);
        }

        .version-badge-enhanced.core {
            background: rgba(58, 134, 255, 0.3);
            border-color: rgba(58, 134, 255, 0.6);
        }

        .version-badge-enhanced.style {
            background: rgba(131, 56, 236, 0.3);
            color: #b388ff;
            border-color: rgba(131, 56, 236, 0.6);
        }

        .version-badge-enhanced.technical {
            background: rgba(100, 200, 100, 0.3);
            color: #88ff88;
            border-color: rgba(100, 200, 100, 0.6);
        }

        .version-info {
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            flex: 1;
        }

        .version-info h4 {
            font-size: 20px;
            color: #fff;
            margin: 0;
        }

        .version-description {
            font-size: 14px;
            color: #aaa;
            line-height: 1.6;
            flex: 1;
        }

        .version-features {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .feature-tag {
            background: rgba(58, 134, 255, 0.1);
            color: #88bbff;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            border: 1px solid rgba(58, 134, 255, 0.2);
        }

        .version-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .launch-btn-enhanced {
            flex: 1;
            background: linear-gradient(135deg, #3a86ff, #8338ec);
            color: #fff;
            padding: 12px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
            text-align: center;
            border: none;
            cursor: pointer;
            display: inline-block;
        }

        .launch-btn-enhanced:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(58, 134, 255, 0.4);
        }

        .info-btn-enhanced {
            background: rgba(58, 134, 255, 0.2);
            color: #3a86ff;
            padding: 12px 20px;
            border-radius: 8px;
            border: 2px solid rgba(58, 134, 255, 0.3);
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .info-btn-enhanced:hover {
            background: rgba(58, 134, 255, 0.3);
            border-color: rgba(58, 134, 255, 0.5);
        }

        .upload-prompt {
            text-align: center;
            padding: 60px 40px;
            background: rgba(58, 134, 255, 0.05);
            border: 2px dashed rgba(58, 134, 255, 0.3);
            border-radius: 15px;
            grid-column: 1 / -1;
        }

        .upload-icon {
            font-size: 60px;
            margin-bottom: 20px;
            opacity: 0.7;
        }

        .upload-prompt h4 {
            font-size: 24px;
            color: #3a86ff;
            margin-bottom: 15px;
        }

        .upload-prompt p {
            font-size: 16px;
            color: #aaa;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .upload-prompt ol {
            list-style-position: inside;
            color: #ccc;
        }

        .upload-prompt li {
            margin-bottom: 10px;
        }
        
        /* Compact File List Styles */
        .file-category {
            margin-bottom: 25px;
        }
        
        .file-category-title {
            font-size: 16px;
            color: #3a86ff;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(58, 134, 255, 0.2);
        }
        
        .file-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .file-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 15px;
            background: rgba(20, 20, 30, 0.6);
            border: 1px solid rgba(58, 134, 255, 0.2);
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.3s ease;
            color: #fff;
        }
        
        .file-item:hover {
            background: rgba(30, 30, 50, 0.8);
            border-color: rgba(58, 134, 255, 0.5);
            transform: translateX(5px);
        }
        
        .file-icon {
            font-size: 18px;
            flex-shrink: 0;
        }
        
        .file-name {
            flex: 1;
            font-size: 14px;
            color: #ccc;
            font-family: 'IBM Plex Mono', monospace;
        }
        
        .file-badge {
            font-size: 11px;
            padding: 4px 10px;
            background: rgba(58, 134, 255, 0.2);
            color: #88bbff;
            border-radius: 4px;
            border: 1px solid rgba(58, 134, 255, 0.3);
            flex-shrink: 0;
        }
        
        @media (max-width: 768px) {
            .category-content {
                grid-template-columns: 1fr;
            }
            
            .category-header {
                padding: 15px 20px;
            }
            
            .category-header h3 {
                font-size: 18px;
            }
            
            .version-image-container {
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="bg-gradient"></div>
    
    <!-- Font Selector Toolbar -->
    <div class="font-toolbar">
        <div class="font-toolbar-header">
            <span class="font-toolbar-title">Font Selector</span>
            <button class="font-toolbar-toggle" onclick="toggleFontToolbar()">‚àí</button>
        </div>
        
        <!-- Font Size Controls -->
        <div class="font-size-controls" id="fontSizeControls">
            <div class="font-size-label">Font Size</div>
            <div class="font-size-slider-container">
                <input type="range" min="100" max="200" value="100" step="10" 
                       class="font-size-slider" id="fontSizeSlider" 
                       oninput="changeFontSize(this.value)">
                <span class="font-size-value" id="fontSizeValue">100%</span>
            </div>
            <div class="font-size-buttons">
                <button class="font-size-btn" onclick="setFontSize(100)">Normal</button>
                <button class="font-size-btn" onclick="setFontSize(140)">Large</button>
                <button class="font-size-btn" onclick="setFontSize(170)">XL</button>
                <button class="font-size-btn" onclick="setFontSize(200)">XXL</button>
            </div>
        </div>
        
        <div class="font-options" id="fontOptions">
            <button class="font-option" onclick="changeFont('IBM Plex Mono', this)">
                <div>IBM Plex Mono</div>
                <div class="font-preview" style="font-family: 'IBM Plex Mono', monospace;">The quick brown fox</div>
            </button>
            <button class="font-option" onclick="changeFont('Inter', this)">
                <div>Inter (Default)</div>
                <div class="font-preview" style="font-family: 'Inter', sans-serif;">The quick brown fox</div>
            </button>
            <button class="font-option" onclick="changeFont('Space Mono', this)">
                <div>Space Mono</div>
                <div class="font-preview" style="font-family: 'Space Mono', monospace;">The quick brown fox</div>
            </button>
            <button class="font-option" onclick="changeFont('JetBrains Mono', this)">
                <div>JetBrains Mono</div>
                <div class="font-preview" style="font-family: 'JetBrains Mono', monospace;">The quick brown fox</div>
            </button>
            <button class="font-option" onclick="changeFont('Courier Prime', this)">
                <div>Courier Prime</div>
                <div class="font-preview" style="font-family: 'Courier Prime', monospace;">The quick brown fox</div>
            </button>
            <button class="font-option" onclick="changeFont('Source Code Pro', this)">
                <div>Source Code Pro</div>
                <div class="font-preview" style="font-family: 'Source Code Pro', monospace;">The quick brown fox</div>
            </button>
            <button class="font-option" onclick="changeFont('Fira Code', this)">
                <div>Fira Code</div>
                <div class="font-preview" style="font-family: 'Fira Code', monospace;">The quick brown fox</div>
            </button>
            <button class="font-option" onclick="changeFont('Roboto Mono', this)">
                <div>Roboto Mono</div>
                <div class="font-preview" style="font-family: 'Roboto Mono', monospace;">The quick brown fox</div>
            </button>
            <button class="font-option active" onclick="changeFont('VT323', this)">
                <div>VT323 (Retro)</div>
                <div class="font-preview" style="font-family: 'VT323', monospace;">The quick brown fox</div>
            </button>
        </div>
    </div>
    
    <!-- Edit Mode Toggle Button -->
    <button class="edit-mode-toggle" id="editModeBtn" onclick="toggleEditMode()">
        ‚úèÔ∏è Edit Mode: OFF
    </button>
    
    <div class="container">
        <!-- Main Landing Page -->
        <div id="landing" class="content-section active">
            <div class="hero">
                <div class="hero-content">
                    <div class="title-container">
                        <div class="title-wave" id="titleWave1"></div>
                    </div>
                    <p class="subtitle">The Sound of Colour</p>
                </div>
                
                <div class="main-visual">
                    <canvas class="rainbow-circle" id="rainbowCircle"></canvas>
                    
                    <div class="nav-overlay">
                        <div class="nav-card" onclick="showSection('howItWorks')">
                            <h3>How it works!</h3>
                        </div>
                        <div class="nav-card" onclick="showSection('demo')">
                            <h3>Demo</h3>
                        </div>
                        <div class="nav-card" onclick="showSection('versions')">
                            <h3>Versions</h3>
                        </div>
                        <div class="nav-card" onclick="showSection('updates')">
                            <h3>Updates</h3>
                        </div>
                        <div class="nav-card" onclick="showSection('templates')">
                            <h3>User templates</h3>
                        </div>
                        <div class="nav-card" onclick="showSection('resources')">
                            <h3>Resources</h3>
                        </div>
                        <div class="nav-card" onclick="showSection('settings')">
                            <h3>Settings</h3>
                        </div>
                        <div class="nav-card" onclick="showSection('tutorials')">
                            <h3>Tutorials</h3>
                        </div>
                    </div>
                </div>
                
                <button class="theme-toggle" onclick="alert('Theme customization coming soon!')">
                    THEME FLIP
                </button>
            </div>
            
            <!-- Sketches Section -->
            <div class="sketches-section">
                <h2 class="section-title">Sketch & Inspiration</h2>
                
                <div class="sketches-grid">
                    <div class="sketch-card">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300'%3E%3Crect fill='%23f0e6ff' width='400' height='300'/%3E%3Cg stroke='%23ff6b6b' stroke-width='3' fill='none'%3E%3Cpath d='M20 150 Q50 100 80 150 T140 150 T200 150 T260 150 T320 150 T380 150'/%3E%3Cpath d='M20 180 L80 180 L80 200 M100 180 L160 180 M180 200 L180 180 L240 180 L240 200 M260 180 L320 180 L320 200 L260 200'/%3E%3C/g%3E%3C/svg%3E" alt="Original Sketch">
                        <h4>Original Concept</h4>
                        <p>Hand-drawn wireframe showing waveform lettering and navigation layout</p>
                    </div>
                    
                    <div class="sketch-card">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300'%3E%3Crect fill='%23fff9e6' width='400' height='300'/%3E%3Cg%3E%3Ctext x='50' y='80' font-family='monospace' font-size='24' fill='%23ff9f43'%3Ewaveform%3C/text%3E%3Ctext x='50' y='120' font-family='monospace' font-size='16' fill='%23666'%3Emath notebook%3C/text%3E%3Crect x='50' y='140' width='300' height='120' fill='none' stroke='%23ddd' stroke-width='2'/%3E%3Cline x1='70' y1='160' x2='330' y2='160' stroke='%23ddd'/%3E%3Cline x1='70' y1='180' x2='330' y2='180' stroke='%23ddd'/%3E%3C/g%3E%3C/svg%3E" alt="Math Notebook">
                        <h4>Technical Planning</h4>
                        <p>Mathematical concepts and waveform calculations for visualizations</p>
                    </div>
                </div>
                
                <h2 class="section-title" style="margin-top: 60px;">Visual References</h2>
                
                <div class="visualizers-grid">
                    <div class="visualizer-card">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200'%3E%3Crect fill='%23000' width='300' height='200'/%3E%3Cg%3E%3Cpath d='M10 100 Q40 60 70 100 T130 100 T190 100 T250 100 T290 100' stroke='%2300f0ff' stroke-width='3' fill='none'/%3E%3Cpath d='M10 120 Q40 160 70 120 T130 120 T190 120 T250 120 T290 120' stroke='%23ff00ff' stroke-width='3' fill='none'/%3E%3C/g%3E%3C/svg%3E" alt="Audio Waveforms">
                        <h5>Audio Waveforms</h5>
                    </div>
                    <div class="visualizer-card">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200'%3E%3Crect fill='%23000' width='300' height='200'/%3E%3Cg%3E%3Crect x='20' y='140' width='15' height='40' fill='%23ff0066'/%3E%3Crect x='45' y='100' width='15' height='80' fill='%23ff6600'/%3E%3Crect x='70' y='60' width='15' height='120' fill='%23ffcc00'/%3E%3Crect x='95' y='80' width='15' height='100' fill='%2300ff66'/%3E%3Crect x='120' y='120' width='15' height='60' fill='%2300ffcc'/%3E%3C/g%3E%3C/svg%3E" alt="Frequency Bars">
                        <h5>Frequency Visualizers</h5>
                    </div>
                    <div class="visualizer-card">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200'%3E%3Crect fill='%23000' width='300' height='200'/%3E%3Ccircle cx='150' cy='100' r='60' fill='none' stroke='url(%23gradient1)' stroke-width='30'/%3E%3Cdefs%3E%3ClinearGradient id='gradient1'%3E%3Cstop offset='0%25' stop-color='%23ff00ff'/%3E%3Cstop offset='50%25' stop-color='%2300ffff'/%3E%3Cstop offset='100%25' stop-color='%23ff00ff'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E" alt="Circular Visualizer">
                        <h5>Circular Spectrum</h5>
                    </div>
                    <div class="visualizer-card">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200'%3E%3Crect fill='%23000' width='300' height='200'/%3E%3Cg opacity='0.7'%3E%3Ccircle cx='80' cy='100' r='20' fill='%23ff00ff'/%3E%3Ccircle cx='150' cy='80' r='30' fill='%2300ffff'/%3E%3Ccircle cx='220' cy='120' r='25' fill='%23ffff00'/%3E%3C/g%3E%3C/svg%3E" alt="Particle System">
                        <h5>Particle Systems</h5>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- How It Works Section -->
        <div id="howItWorks" class="content-section">
            <div class="section-header">
                <button class="back-btn" onclick="showSection('landing')">‚Üê Back</button>
                <h2>How It Works</h2>
            </div>
            
            <div class="info-box" style="text-align: center;">
                <h4>Real Time MIDI to Colour Converter</h4>
                <p>Real time MIDI to colour converter correlates MIDI data the Synesthesia spectral scale.</p>
                <p>Contextualise and sound colour analysis, music theory and harmonic relationships through visual art generation. Create a unique aesthetic to perfectly match musical ideas through the visible light spectrum to create a personalised live response to MIDI input. Realise your ideas through custom visual output.</p>
            </div>
            
            <div class="info-box" style="text-align: center;">
                <h4>Theory, Models and Scale</h4>
                <p><strong>Synesthesia spectral mapping scale.</strong></p>
                <p>The original version of the midi visualiser uses a combination model, to map frequency to colour, across the full audible frequency spectrum, quantised to a standard tuned 10 octave piano roll, from c0-c10. Full visual light spectrum, according to Newton's colour wheel, mapped to note values within one octave. Octave mapped to value according to Munsell's Colour Model.</p>
            </div>
            
            <div class="info-box" style="text-align: center;">
                <h4>Summary & Diagrams</h4>
                <p><strong>Frequency to Hue - via Isaac Newton's Colour Wheel (Optick's)</strong></p>
                <p>[---show mapping diagram, grid and links]</p>
                <br>
                <p><strong>Octave to Value (Munsell's 3D colour wheel)</strong></p>
                <p>[---show mapping diagram, grid and links]</p>
                <br>
                <p><strong>Velocity - assigned to Chroma (Munsell), Intensity or Saturation.</strong></p>
                <p>-controls size of shape</p>
            </div>
            
            <div class="info-box" style="text-align: center;">
                <h4>Colour Mapping</h4>
                <ul style="list-style-position: inside; padding: 0;">
                    <li><strong>C</strong> - Violet</li>
                    <li><strong>D</strong> - Red</li>
                    <li><strong>E</strong> - Orange</li>
                    <li><strong>F</strong> - Yellow</li>
                    <li><strong>G</strong> - Green</li>
                    <li><strong>A</strong> - Blue</li>
                    <li><strong>B</strong> - Indigo</li>
                </ul>
                <p>Octaves control brightness - lower octaves (C0) are darker, higher octaves (C10) are brighter. Velocity affects size and saturation.</p>
            </div>
            
            <div class="info-box" style="text-align: center;">
                <h4>User Customisation</h4>
                <p>User controlled parameters in Versions (x-y), allow you to shape your visual generation to suit your desired aesthetic. See individual models < Toolbar to see unique features.</p>
            </div>
        </div>
        
        <!-- Demo Section -->
        <div id="demo" class="content-section">
            <div class="section-header">
                <button class="back-btn" onclick="showSection('landing')">‚Üê Back</button>
                <h2>Demo</h2>
            </div>
            
            <div class="info-box">
                <h4>üé¨ Try It Out</h4>
                <p>Each visualizer has a built-in demo mode that you can test without MIDI setup. Simply open any version and use the on-screen piano or connect a MIDI keyboard.</p>
            </div>
            
            <div class="info-box">
                <h4>üì∫ Video Demonstrations</h4>
                <p>Coming soon: Video tutorials and demonstrations of each visualizer style with different musical genres.</p>
            </div>
            
            <div class="info-box">
                <h4>üéµ Recommended Test Tracks</h4>
                <ul>
                    <li><strong>Classical:</strong> Try Bach or Debussy for complex polyphonic patterns</li>
                    <li><strong>Electronic:</strong> Synthwave or EDM for rhythm and bass visualization</li>
                    <li><strong>Jazz:</strong> Complex chords show beautiful color mixing</li>
                    <li><strong>Minimal:</strong> Ambient or minimal techno for clean, meditative visuals</li>
                </ul>
            </div>
        </div>
        
        <!-- Versions Section -->
        <div id="versions" class="content-section">
            <div class="section-header">
                <button class="back-btn" onclick="showSection('landing')">‚Üê Back</button>
                <h2>Versions</h2>
            </div>
            
            <p style="text-align: center; margin-bottom: 40px; color: #aaa;">Browse all visualizer versions organized by category. Click on category headers to expand/collapse.</p>
            
            <!-- SEE ALL PREVIOUS VERSIONS -->
            <div class="version-category">
                <div class="category-header" onclick="toggleCategory('previous')">
                    <h3>üìÇ See All Previous Versions</h3>
                    <span class="category-count">Complete archive</span>
                    <span class="category-toggle">‚ñº</span>
                </div>
                <div class="category-content" id="previous-content">
                    
                    <!-- Main Visualizers -->
                    <div class="file-category">
                        <h4 class="file-category-title">üé® Main Visualizers</h4>
                        <div class="file-list">
                            <a href="Multitrack V.01-27/newton-midi-visualizer-fixed.html" class="file-item" target="_blank">
                                <span class="file-icon">‚ú®</span>
                                <span class="file-name">newton-midi-visualizer-fixed.html</span>
                                <span class="file-badge">Latest</span>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Style Variations -->
                    <div class="file-category">
                        <h4 class="file-category-title">üåà Style Variations</h4>
                        <div class="file-list">
                            <a href="Styles/newton-midi-synthwave.html" class="file-item" target="_blank">
                                <span class="file-icon">üåÜ</span>
                                <span class="file-name">newton-midi-synthwave.html</span>
                                <span class="file-badge">Style</span>
                            </a>
                            <a href="Styles/newton-midi-kandinsky.html" class="file-item" target="_blank">
                                <span class="file-icon">üé≠</span>
                                <span class="file-name">newton-midi-kandinsky.html</span>
                                <span class="file-badge">Style</span>
                            </a>
                            <a href="Styles/newton-midi-minimal.html" class="file-item" target="_blank">
                                <span class="file-icon">‚ö´</span>
                                <span class="file-name">newton-midi-minimal.html</span>
                                <span class="file-badge">Style</span>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Oscilloscope Versions -->
                    <div class="file-category">
                        <h4 class="file-category-title">„Ä∞Ô∏è Oscilloscope</h4>
                        <div class="file-list">
                            <a href="Oscilloscope/newton-midi-oscilloscope (2).html" class="file-item" target="_blank">
                                <span class="file-icon">üìä</span>
                                <span class="file-name">newton-midi-oscilloscope (2).html</span>
                                <span class="file-badge">Latest</span>
                            </a>
                            <a href="Oscilloscope/newton-midi-oscilloscope (1).html" class="file-item" target="_blank">
                                <span class="file-icon">üìä</span>
                                <span class="file-name">newton-midi-oscilloscope (1).html</span>
                                <span class="file-badge">v1</span>
                            </a>
                            <a href="Oscilloscope/newton-midi-oscilloscope.html" class="file-item" target="_blank">
                                <span class="file-icon">üìä</span>
                                <span class="file-name">newton-midi-oscilloscope.html</span>
                                <span class="file-badge">Original</span>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Multitrack Development (v1-27) -->
                    <div class="file-category">
                        <h4 class="file-category-title">üî¨ Multitrack Development (v1-27)</h4>
                        <div class="file-list">
                            <a href="Multitrack V.01-27/newton-midi-multitrack (27).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (27).html</span>
                                <span class="file-badge">v27</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (26).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (26).html</span>
                                <span class="file-badge">v26</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (25).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (25).html</span>
                                <span class="file-badge">v25</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (24).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (24).html</span>
                                <span class="file-badge">v24</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (23).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (23).html</span>
                                <span class="file-badge">v23</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (22).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (22).html</span>
                                <span class="file-badge">v22</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (21).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (21).html</span>
                                <span class="file-badge">v21</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (20).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (20).html</span>
                                <span class="file-badge">v20</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (19).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (19).html</span>
                                <span class="file-badge">v19</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (18).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (18).html</span>
                                <span class="file-badge">v18</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (17).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (17).html</span>
                                <span class="file-badge">v17</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (16).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (16).html</span>
                                <span class="file-badge">v16</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (15).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (15).html</span>
                                <span class="file-badge">v15</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (14).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (14).html</span>
                                <span class="file-badge">v14</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (13).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (13).html</span>
                                <span class="file-badge">v13</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (12).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (12).html</span>
                                <span class="file-badge">v12</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (11).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (11).html</span>
                                <span class="file-badge">v11</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (10).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (10).html</span>
                                <span class="file-badge">v10</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (9).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (9).html</span>
                                <span class="file-badge">v9</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (8).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (8).html</span>
                                <span class="file-badge">v8</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (7).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (7).html</span>
                                <span class="file-badge">v7</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (6).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (6).html</span>
                                <span class="file-badge">v6</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (5).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (5).html</span>
                                <span class="file-badge">v5</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (4).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (4).html</span>
                                <span class="file-badge">v4</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (3).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (3).html</span>
                                <span class="file-badge">v3</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (2).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (2).html</span>
                                <span class="file-badge">v2</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack (1).html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack (1).html</span>
                                <span class="file-badge">v1</span>
                            </a>
                            <a href="Multitrack V.01-27/newton-midi-multitrack.html" class="file-item" target="_blank">
                                <span class="file-icon">üéµ</span>
                                <span class="file-name">newton-midi-multitrack.html</span>
                                <span class="file-badge">Original</span>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Basic Versions -->
                    <div class="file-category">
                        <h4 class="file-category-title">üé® Basic Versions (Early Development)</h4>
                        <div class="file-list">
                            <a href="Basic Version 001/newton-midi-standalone (2).html" class="file-item" target="_blank">
                                <span class="file-icon">üìå</span>
                                <span class="file-name">newton-midi-standalone (2).html</span>
                                <span class="file-badge">v2</span>
                            </a>
                            <a href="Basic Version 001/newton-midi-standalone (1).html" class="file-item" target="_blank">
                                <span class="file-icon">üìå</span>
                                <span class="file-name">newton-midi-standalone (1).html</span>
                                <span class="file-badge">v1</span>
                            </a>
                            <a href="Basic Version 001/newton-midi-standalone.html" class="file-item" target="_blank">
                                <span class="file-icon">üìå</span>
                                <span class="file-name">newton-midi-standalone.html</span>
                                <span class="file-badge">Original</span>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Landing Page Versions -->
                    <div class="file-category">
                        <h4 class="file-category-title">üè† Landing Page Iterations</h4>
                        <div class="file-list">
                            <a href="Landing page/synesthesia-landing-enhanced-versions.html" class="file-item" target="_blank">
                                <span class="file-icon">‚ú®</span>
                                <span class="file-name">synesthesia-landing-enhanced-versions.html</span>
                                <span class="file-badge">Latest</span>
                            </a>
                            <a href="Landing page/synesthesia-landing-full-edit.html" class="file-item" target="_blank">
                                <span class="file-icon">‚úèÔ∏è</span>
                                <span class="file-name">synesthesia-landing-full-edit.html</span>
                                <span class="file-badge">Edit</span>
                            </a>
                            <a href="Landing page/synesthesia-landing-click-to-edit.html" class="file-item" target="_blank">
                                <span class="file-icon">üñ±Ô∏è</span>
                                <span class="file-name">synesthesia-landing-click-to-edit.html</span>
                                <span class="file-badge">Edit</span>
                            </a>
                            <a href="Landing page/synesthesia-landing-with-admin.html" class="file-item" target="_blank">
                                <span class="file-icon">‚öôÔ∏è</span>
                                <span class="file-name">synesthesia-landing-with-admin.html</span>
                                <span class="file-badge">Admin</span>
                            </a>
                            <a href="Landing page/synesthesia-landing-with-settings.html" class="file-item" target="_blank">
                                <span class="file-icon">üîß</span>
                                <span class="file-name">synesthesia-landing-with-settings.html</span>
                                <span class="file-badge">v1</span>
                            </a>
                            <a href="Landing page/synesthesia-landing-final.html" class="file-item" target="_blank">
                                <span class="file-icon">üéØ</span>
                                <span class="file-name">synesthesia-landing-final.html</span>
                                <span class="file-badge">v1</span>
                            </a>
                            <a href="Landing page/synesthesia-landing-mini.html" class="file-item" target="_blank">
                                <span class="file-icon">üì¶</span>
                                <span class="file-name">synesthesia-landing-mini.html</span>
                                <span class="file-badge">v1</span>
                            </a>
                            <a href="Landing page/synesthesia-landing-compact.html" class="file-item" target="_blank">
                                <span class="file-icon">üì¶</span>
                                <span class="file-name">synesthesia-landing-compact.html</span>
                                <span class="file-badge">v1</span>
                            </a>
                            <a href="Landing page/synesthesia-landing-v2.html" class="file-item" target="_blank">
                                <span class="file-icon">üìÑ</span>
                                <span class="file-name">synesthesia-landing-v2.html</span>
                                <span class="file-badge">v2</span>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Documentation & Guides -->
                    <div class="file-category">
                        <h4 class="file-category-title">üìö Documentation & Guides</h4>
                        <div class="file-list">
                            <a href="Landing page/Enhanced-Versions-Implementation-Guide.txt" class="file-item" target="_blank">
                                <span class="file-icon">üìã</span>
                                <span class="file-name">Enhanced-Versions-Implementation-Guide.txt</span>
                                <span class="file-badge">Guide</span>
                            </a>
                            <a href="Landing page/Web-text-edit-Landing-page-formatting.txt" class="file-item" target="_blank">
                                <span class="file-icon">üìù</span>
                                <span class="file-name">Web-text-edit-Landing-page-formatting.txt</span>
                                <span class="file-badge">Guide</span>
                            </a>
                            <a href="Landing page/landing-page-tutorial.txt" class="file-item" target="_blank">
                                <span class="file-icon">üìÑ</span>
                                <span class="file-name">landing-page-tutorial.txt</span>
                                <span class="file-badge">Tutorial</span>
                            </a>
                            <a href="Landing page/enhanced-versions-script.js" class="file-item" target="_blank">
                                <span class="file-icon">üíæ</span>
                                <span class="file-name">enhanced-versions-script.js</span>
                                <span class="file-badge">JS</span>
                            </a>
                            <a href="Landing page/enhanced-versions-styles.css" class="file-item" target="_blank">
                                <span class="file-icon">üé®</span>
                                <span class="file-name">enhanced-versions-styles.css</span>
                                <span class="file-badge">CSS</span>
                            </a>
                            <a href="Landing page/enhanced-versions-section.html" class="file-item" target="_blank">
                                <span class="file-icon">üìÑ</span>
                                <span class="file-name">enhanced-versions-section.html</span>
                                <span class="file-badge">HTML</span>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Other Files -->
                    <div class="file-category">
                        <h4 class="file-category-title">üóÇÔ∏è Other Files</h4>
                        <div class="file-list">
                            <a href="newton-color-piano.tsx" class="file-item" target="_blank">
                                <span class="file-icon">‚öõÔ∏è</span>
                                <span class="file-name">newton-color-piano.tsx</span>
                                <span class="file-badge">React</span>
                            </a>
                            <a href="newton-midi-color-mapping (1).html" class="file-item" target="_blank">
                                <span class="file-icon">üéπ</span>
                                <span class="file-name">newton-midi-color-mapping (1).html</span>
                                <span class="file-badge">Mapping</span>
                            </a>
                            <a href="newton-midi-color-mapping.html" class="file-item" target="_blank">
                                <span class="file-icon">üéπ</span>
                                <span class="file-name">newton-midi-color-mapping.html</span>
                                <span class="file-badge">Mapping</span>
                            </a>
                        </div>
                    </div>
                    
                </div>
            </div>
            
            <!-- CORE VERSIONS -->
            <div class="version-category">
                <div class="category-header" onclick="toggleCategory('core')">
                    <h3>üé® Core Versions</h3>
                    <span class="category-count">2 versions</span>
                    <span class="category-toggle">‚ñº</span>
                </div>
                <div class="category-content" id="core-content">
                    <div class="version-card-enhanced">
                        <div class="version-image-container">
                            <img src="visualizer-original.jpg" alt="Original Lightweight" class="version-image" 
                                 onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'400\' height=\'250\'%3E%3Crect fill=\'%23222\' width=\'400\' height=\'250\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' text-anchor=\'middle\' dy=\'.3em\' fill=\'%23666\' font-size=\'18\'%3EOriginal Lightweight%3C/text%3E%3C/svg%3E'">
                            <div class="version-badges">
                                <span class="version-badge-enhanced core">Core</span>
                                <span class="version-badge-enhanced">v1.0</span>
                            </div>
                        </div>
                        <div class="version-info">
                            <h4>Original Lightweight</h4>
                            <p class="version-description">The foundation version with Newton's color wheel mapping, chord detection, and extensive background customization options including gradient mixer and additive color modes.</p>
                            <div class="version-features">
                                <span class="feature-tag">üé® Gradient Backgrounds</span>
                                <span class="feature-tag">üéπ Chord Detection</span>
                                <span class="feature-tag">üéõÔ∏è Lanes & Layers</span>
                            </div>
                            <div class="version-actions">
                                <a href="newton-midi-visualizer-fixed.html" class="launch-btn-enhanced" target="_blank">Launch ‚Üí</a>
                                <button class="info-btn-enhanced" onclick="alert('Original Lightweight: The foundation visualizer with full customization options.')">‚ÑπÔ∏è Info</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="version-card-enhanced">
                        <div class="version-image-container">
                            <img src="visualizer-oscilloscope.jpg" alt="Oscilloscope" class="version-image"
                                 onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'400\' height=\'250\'%3E%3Crect fill=\'%23222\' width=\'400\' height=\'250\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' text-anchor=\'middle\' dy=\'.3em\' fill=\'%23666\' font-size=\'18\'%3EOscilloscope%3C/text%3E%3C/svg%3E'">
                            <div class="version-badges">
                                <span class="version-badge-enhanced technical">Technical</span>
                                <span class="version-badge-enhanced">v1.1</span>
                            </div>
                        </div>
                        <div class="version-info">
                            <h4>Oscilloscope</h4>
                            <p class="version-description">Real-time waveform visualization. MIDI notes converted to sine waves at their actual frequencies, with dynamic horizontal scrolling and additive color mixing.</p>
                            <div class="version-features">
                                <span class="feature-tag">„Ä∞Ô∏è Waveform Display</span>
                                <span class="feature-tag">üéµ Frequency Accurate</span>
                                <span class="feature-tag">üìä Technical View</span>
                            </div>
                            <div class="version-actions">
                                <a href="newton-midi-oscilloscope.html" class="launch-btn-enhanced" target="_blank">Launch ‚Üí</a>
                                <button class="info-btn-enhanced" onclick="alert('Oscilloscope: Technical waveform visualization showing actual note frequencies.')">‚ÑπÔ∏è Info</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- STYLE VARIATIONS -->
            <div class="version-category">
                <div class="category-header" onclick="toggleCategory('styles')">
                    <h3>‚ú® Style Variations</h3>
                    <span class="category-count">3 versions</span>
                    <span class="category-toggle">‚ñº</span>
                </div>
                <div class="category-content" id="styles-content">
                    <div class="version-card-enhanced">
                        <div class="version-image-container">
                            <img src="visualizer-synthwave.jpg" alt="Retro Synthwave" class="version-image"
                                 onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'400\' height=\'250\'%3E%3Crect fill=\'%23222\' width=\'400\' height=\'250\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' text-anchor=\'middle\' dy=\'.3em\' fill=\'%23666\' font-size=\'18\'%3ERetro Synthwave%3C/text%3E%3C/svg%3E'">
                            <div class="version-badges">
                                <span class="version-badge-enhanced style">Style</span>
                                <span class="version-badge-enhanced">v1.0</span>
                            </div>
                        </div>
                        <div class="version-info">
                            <h4>Retro Synthwave</h4>
                            <p class="version-description">80s aesthetic with diamond-shaped particles, neon glow effects, perspective grid floor, and classic sunset gradient. Hot pink, cyan, and electric purple dominate.</p>
                            <div class="version-features">
                                <span class="feature-tag">üåÜ 80s Aesthetic</span>
                                <span class="feature-tag">üíé Diamond Particles</span>
                                <span class="feature-tag">üåÖ Sunset Gradient</span>
                            </div>
                            <div class="version-actions">
                                <a href="newton-midi-synthwave.html" class="launch-btn-enhanced" target="_blank">Launch ‚Üí</a>
                                <button class="info-btn-enhanced" onclick="alert('Retro Synthwave: 80s neon aesthetic with classic synthwave visuals.')">‚ÑπÔ∏è Info</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="version-card-enhanced">
                        <div class="version-image-container">
                            <img src="visualizer-kandinsky.jpg" alt="Kandinsky" class="version-image"
                                 onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'400\' height=\'250\'%3E%3Crect fill=\'%23222\' width=\'400\' height=\'250\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' text-anchor=\'middle\' dy=\'.3em\' fill=\'%23666\' font-size=\'18\'%3EKandinsky%3C/text%3E%3C/svg%3E'">
                            <div class="version-badges">
                                <span class="version-badge-enhanced style">Style</span>
                                <span class="version-badge-enhanced">v1.0</span>
                            </div>
                        </div>
                        <div class="version-info">
                            <h4>Kandinsky</h4>
                            <p class="version-description">Inspired by abstract expressionism with geometric shapes (circles, squares, triangles), bold primary colors, thick black borders, and Bauhaus design principles.</p>
                            <div class="version-features">
                                <span class="feature-tag">üé≠ Abstract Art</span>
                                <span class="feature-tag">‚¨õ Geometric Shapes</span>
                                <span class="feature-tag">üé® Bold Colors</span>
                            </div>
                            <div class="version-actions">
                                <a href="newton-midi-kandinsky.html" class="launch-btn-enhanced" target="_blank">Launch ‚Üí</a>
                                <button class="info-btn-enhanced" onclick="alert('Kandinsky: Abstract expressionist style with geometric shapes and bold colors.')">‚ÑπÔ∏è Info</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="version-card-enhanced">
                        <div class="version-image-container">
                            <img src="visualizer-minimal.jpg" alt="Minimal Monochrome" class="version-image"
                                 onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'400\' height=\'250\'%3E%3Crect fill=\'%23222\' width=\'400\' height=\'250\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' text-anchor=\'middle\' dy=\'.3em\' fill=\'%23666\' font-size=\'18\'%3EMinimal Monochrome%3C/text%3E%3C/svg%3E'">
                            <div class="version-badges">
                                <span class="version-badge-enhanced style">Style</span>
                                <span class="version-badge-enhanced">v1.0</span>
                            </div>
                        </div>
                        <div class="version-info">
                            <h4>Minimal Monochrome</h4>
                            <p class="version-description">Pure black and white elegance. Simple circles with focus on form, motion, and negative space. Multiple fade styles and background options for different moods.</p>
                            <div class="version-features">
                                <span class="feature-tag">‚ö´ B&W Only</span>
                                <span class="feature-tag">‚≠ï Clean Circles</span>
                                <span class="feature-tag">üéØ Minimal Design</span>
                            </div>
                            <div class="version-actions">
                                <a href="newton-midi-minimal.html" class="launch-btn-enhanced" target="_blank">Launch ‚Üí</a>
                                <button class="info-btn-enhanced" onclick="alert('Minimal Monochrome: Pure black and white elegance with minimal design.')">‚ÑπÔ∏è Info</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- EXPERIMENTAL / CUSTOM VERSIONS -->
            <div class="version-category">
                <div class="category-header" onclick="toggleCategory('experimental')">
                    <h3>üß™ Experimental & Custom</h3>
                    <span class="category-count">Add your versions here</span>
                    <span class="category-toggle">‚ñº</span>
                </div>
                <div class="category-content" id="experimental-content">
                    <div class="upload-prompt">
                        <div class="upload-icon">üì§</div>
                        <h4>Add Your Custom Visualizers</h4>
                        <p>This section is ready for your experimental and custom versions. To add a visualizer:</p>
                        <ol style="text-align: left; max-width: 500px; margin: 20px auto;">
                            <li>Take a screenshot of your visualizer (recommended: 800x500px)</li>
                            <li>Save it with a descriptive name (e.g., "visualizer-aurora.jpg")</li>
                            <li>Use Edit Mode to add a new version card</li>
                            <li>Copy an existing card template and update the details</li>
                        </ol>
                        <button class="launch-btn-enhanced" onclick="toggleEditMode()" style="margin-top: 20px;">Enable Edit Mode</button>
                    </div>
                </div>
            </div>
            
            <!-- Version Comparison -->
            <div class="info-box" style="margin-top: 40px; text-align: center;">
                <h4>üìã Version Comparison</h4>
                <p><strong>Lanes Mode:</strong> All versions (except Oscilloscope) support lanes mode where each MIDI track gets its own horizontal lane.</p>
                <p><strong>Layers Mode:</strong> Stack all tracks with depth effects for a unified composition view.</p>
                <p><strong>Customization:</strong> Each version has unique settings tailored to its aesthetic.</p>
            </div>
        </div>
        
        
        <!-- Updates Section -->
        <div id="updates" class="content-section">
            <div class="section-header">
                <button class="back-btn" onclick="showSection('landing')">‚Üê Back</button>
                <h2>Updates</h2>
            </div>
            
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-date">November 21, 2025</div>
                    <div class="timeline-content">
                        <h4>üåä Oscilloscope v1.1 - Performance Update</h4>
                        <p>Fixed note counter display bug and significantly improved waveform dynamics. Speed range increased to 1-50, added horizontal scrolling animation for smooth wave movement across screen.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-date">November 21, 2025</div>
                    <div class="timeline-content">
                        <h4>„Ä∞Ô∏è Oscilloscope Mode Released</h4>
                        <p>New technical visualization showing real-time waveforms. MIDI notes converted to sine waves at their actual frequencies with Newton color mapping and additive mixing.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-date">November 21, 2025</div>
                    <div class="timeline-content">
                        <h4>üé® Style Pack Release</h4>
                        <p>Three new stylistic versions launched: Retro Synthwave (80s neon aesthetic), Kandinsky (geometric abstract art), and Minimal Monochrome (pure B&W elegance).</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-date">November 21, 2025</div>
                    <div class="timeline-content">
                        <h4>üîß Core Update - Background Opacity Fix</h4>
                        <p>Fixed master background opacity control. Now properly applies to all background modes (gradient, solid, and additive). Enhanced color mixing with W3Schools algorithm.</p>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-date">November 21, 2025</div>
                    <div class="timeline-content">
                        <h4>üéµ Initial Release - Core Visualizer</h4>
                        <p>First version launched with Newton color wheel mapping, chord detection, multiple background modes, and extensive customization options. Support for unlimited MIDI tracks.</p>
                    </div>
                </div>
            </div>
            
            <div class="info-box" style="margin-top: 40px;">
                <h4>üöÄ Upcoming Features</h4>
                <ul>
                    <li>Recording and export functionality (video/GIF)</li>
                    <li>MIDI file playback support</li>
                    <li>Additional visual styles (Aurora, Underwater, Fire)</li>
                    <li>Preset management system</li>
                    <li>Performance optimizations for 4K displays</li>
                </ul>
            </div>
        </div>
        
        <!-- User Templates Section -->
        <div id="templates" class="content-section">
            <div class="section-header">
                <button class="back-btn" onclick="showSection('landing')">‚Üê Back</button>
                <h2>User Templates</h2>
            </div>
            
            <div class="info-box">
                <h4>üì¶ Coming Soon</h4>
                <p>This section will feature user-created custom templates, presets, and configurations. Share your favorite settings and discover setups from the community.</p>
            </div>
            
            <div class="info-box">
                <h4>üí° How to Save Your Settings</h4>
                <p>Currently, each visualizer's settings are stored in the browser for the session. Future updates will include:</p>
                <ul>
                    <li>Preset save/load functionality</li>
                    <li>Export/import settings as JSON files</li>
                    <li>Cloud-based preset library</li>
                    <li>Community template sharing</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h4>üé® Create Your Own</h4>
                <p>Want to create a custom style? All visualizers are open source. You can modify the HTML files to create your own unique aesthetic. Share your creations with the community!</p>
            </div>
        </div>
        
        <!-- Resources Section -->
        <div id="resources" class="content-section">
            <div class="section-header">
                <button class="back-btn" onclick="showSection('landing')">‚Üê Back</button>
                <h2>Resources</h2>
            </div>
            
            <div class="info-box">
                <h4>üìö Documentation</h4>
                <ul>
                    <li><strong>MIDI Setup Guide:</strong> Detailed instructions for configuring IAC buses on macOS</li>
                    <li><strong>Color Theory:</strong> Understanding Newton's color wheel and frequency-to-color mapping</li>
                    <li><strong>Customization Guide:</strong> Deep dive into all available settings and options</li>
                    <li><strong>Technical Specs:</strong> How the visualizers process MIDI data and render graphics</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h4>üéπ Compatible DAWs</h4>
                <ul>
                    <li>Logic Pro (recommended)</li>
                    <li>Ableton Live</li>
                    <li>FL Studio</li>
                    <li>GarageBand</li>
                    <li>Any DAW with MIDI routing capabilities</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h4>üîß Browser Compatibility</h4>
                <ul>
                    <li><strong>Chrome/Edge:</strong> Full support, best performance</li>
                    <li><strong>Firefox:</strong> Full support</li>
                    <li><strong>Safari:</strong> Full support</li>
                    <li><strong>Requirements:</strong> Web MIDI API support, Canvas 2D rendering</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h4>üíª System Requirements</h4>
                <ul>
                    <li><strong>OS:</strong> macOS (for MIDI routing), Windows (with loopMIDI), Linux</li>
                    <li><strong>RAM:</strong> 4GB minimum, 8GB recommended</li>
                    <li><strong>Display:</strong> Any resolution, optimized for 1920x1080 and above</li>
                    <li><strong>GPU:</strong> Hardware acceleration recommended for best performance</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h4>üÜò Troubleshooting</h4>
                <ul>
                    <li><strong>No MIDI connection:</strong> Ensure IAC buses are enabled in Audio MIDI Setup</li>
                    <li><strong>Low frame rate:</strong> Reduce max particles or disable glow effects</li>
                    <li><strong>Colors not accurate:</strong> Check your display's color profile</li>
                    <li><strong>Sync issues:</strong> Adjust buffer size in your DAW's audio settings</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h4>üîó Useful Links</h4>
                <ul>
                    <li><a href="https://en.wikipedia.org/wiki/Synesthesia" target="_blank" style="color: #3a86ff;">Learn about Synesthesia</a></li>
                    <li><a href="https://en.wikipedia.org/wiki/Newton_disc" target="_blank" style="color: #3a86ff;">Newton's Color Wheel</a></li>
                    <li><a href="https://www.w3.org/TR/webmidi/" target="_blank" style="color: #3a86ff;">Web MIDI API Documentation</a></li>
                </ul>
            </div>
        </div>
        
        <!-- Settings Section -->
        <div id="settings" class="content-section">
            <div class="section-header">
                <button class="back-btn" onclick="showSection('landing')">‚Üê Back</button>
                <h2>Settings</h2>
            </div>
            
            <div class="info-box" style="text-align: center;">
                <h4>Appearance Settings</h4>
                <p>Customize the look and feel of your Synesthesia landing page. Use the Font Selector toolbar on the right to adjust fonts and sizes. Your preferences are automatically saved in your browser.</p>
            </div>
            
            <div class="info-box" style="text-align: center;">
                <h4>Available Customizations</h4>
                <ul style="list-style-position: inside; padding: 0;">
                    <li><strong>Font Family:</strong> Choose from 9 different fonts including monospace and sans-serif options</li>
                    <li><strong>Font Size:</strong> Scale from 100% to 200% for optimal readability</li>
                    <li><strong>Theme:</strong> Currently using dark theme (more themes coming soon)</li>
                </ul>
            </div>
            
            <!-- ADMIN PANEL -->
            <div class="info-box" style="text-align: left;">
                <h4 style="text-align: center;">Admin Panel - Edit Page Content</h4>
                <p style="text-align: center; margin-bottom: 20px;">Edit any text on your landing page. Changes are saved to your browser and will persist across sessions.</p>
                
                <div style="max-width: 800px; margin: 0 auto;">
                    
                    <!-- Main Page Content -->
                    <div style="background: rgba(58, 134, 255, 0.1); padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                        <h5 style="color: #3a86ff; margin-bottom: 15px;">Main Page Content</h5>
                        
                        <label style="display: block; margin-bottom: 5px; color: #aaa; font-size: 12px;">SUBTITLE</label>
                        <input type="text" id="editSubtitle" class="admin-input" placeholder="The Sound of Colour">
                        
                        <label style="display: block; margin-top: 15px; margin-bottom: 5px; color: #aaa; font-size: 12px;">FOOTER LINE 2</label>
                        <input type="text" id="editFooter" class="admin-input" placeholder="The Sound Of Colour - Ruby Purches">
                    </div>
                    
                    <!-- Folder Names -->
                    <div style="background: rgba(58, 134, 255, 0.1); padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                        <h5 style="color: #3a86ff; margin-bottom: 15px;">Folder Names</h5>
                        
                        <label style="display: block; margin-bottom: 5px; color: #aaa; font-size: 12px;">FOLDER 1</label>
                        <input type="text" id="editFolder1" class="admin-input" placeholder="How it works!">
                        
                        <label style="display: block; margin-top: 15px; margin-bottom: 5px; color: #aaa; font-size: 12px;">FOLDER 2</label>
                        <input type="text" id="editFolder2" class="admin-input" placeholder="Demo">
                        
                        <label style="display: block; margin-top: 15px; margin-bottom: 5px; color: #aaa; font-size: 12px;">FOLDER 3</label>
                        <input type="text" id="editFolder3" class="admin-input" placeholder="Versions">
                        
                        <label style="display: block; margin-top: 15px; margin-bottom: 5px; color: #aaa; font-size: 12px;">FOLDER 4</label>
                        <input type="text" id="editFolder4" class="admin-input" placeholder="Updates">
                        
                        <label style="display: block; margin-top: 15px; margin-bottom: 5px; color: #aaa; font-size: 12px;">FOLDER 5</label>
                        <input type="text" id="editFolder5" class="admin-input" placeholder="User templates">
                        
                        <label style="display: block; margin-top: 15px; margin-bottom: 5px; color: #aaa; font-size: 12px;">FOLDER 6</label>
                        <input type="text" id="editFolder6" class="admin-input" placeholder="Resources">
                        
                        <label style="display: block; margin-top: 15px; margin-bottom: 5px; color: #aaa; font-size: 12px;">FOLDER 7</label>
                        <input type="text" id="editFolder7" class="admin-input" placeholder="Settings">
                        
                        <label style="display: block; margin-top: 15px; margin-bottom: 5px; color: #aaa; font-size: 12px;">FOLDER 8</label>
                        <input type="text" id="editFolder8" class="admin-input" placeholder="Tutorials">
                    </div>
                    
                    <!-- Section Content -->
                    <div style="background: rgba(58, 134, 255, 0.1); padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                        <h5 style="color: #3a86ff; margin-bottom: 15px;">How It Works - Section Content</h5>
                        
                        <label style="display: block; margin-bottom: 5px; color: #aaa; font-size: 12px;">SECTION 1 TITLE</label>
                        <input type="text" id="editHowTitle1" class="admin-input" placeholder="Real Time MIDI to Colour Converter">
                        
                        <label style="display: block; margin-top: 15px; margin-bottom: 5px; color: #aaa; font-size: 12px;">SECTION 1 CONTENT</label>
                        <textarea id="editHowContent1" class="admin-textarea" rows="4" placeholder="Enter content..."></textarea>
                        
                        <label style="display: block; margin-top: 15px; margin-bottom: 5px; color: #aaa; font-size: 12px;">SECTION 2 TITLE</label>
                        <input type="text" id="editHowTitle2" class="admin-input" placeholder="Theory, Models and Scale">
                        
                        <label style="display: block; margin-top: 15px; margin-bottom: 5px; color: #aaa; font-size: 12px;">SECTION 2 CONTENT</label>
                        <textarea id="editHowContent2" class="admin-textarea" rows="4" placeholder="Enter content..."></textarea>
                        
                        <label style="display: block; margin-top: 15px; margin-bottom: 5px; color: #aaa; font-size: 12px;">SECTION 3 TITLE</label>
                        <input type="text" id="editHowTitle3" class="admin-input" placeholder="Summary & Diagrams">
                        
                        <label style="display: block; margin-top: 15px; margin-bottom: 5px; color: #aaa; font-size: 12px;">SECTION 3 CONTENT</label>
                        <textarea id="editHowContent3" class="admin-textarea" rows="4" placeholder="Enter content..."></textarea>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div style="display: flex; gap: 10px; justify-content: center; margin-top: 30px;">
                        <button onclick="saveAdminChanges()" class="launch-btn" style="margin: 0;">üíæ Save All Changes</button>
                        <button onclick="loadAdminData()" class="launch-btn" style="margin: 0; background: rgba(58, 134, 255, 0.3);">üîÑ Reload Current</button>
                        <button onclick="exportAdminData()" class="launch-btn" style="margin: 0; background: rgba(100, 200, 100, 0.3);">üì• Export Settings</button>
                        <button onclick="importAdminData()" class="launch-btn" style="margin: 0; background: rgba(200, 100, 200, 0.3);">üì§ Import Settings</button>
                        <button onclick="resetAdminData()" class="launch-btn" style="margin: 0; background: rgba(255, 100, 100, 0.3);">üóëÔ∏è Reset All</button>
                    </div>
                    
                    <input type="file" id="importFileInput" accept=".json" style="display: none;" onchange="handleImportFile(event)">
                    
                    <p style="text-align: center; margin-top: 20px; font-size: 12px; color: #888;">
                        üí° Tip: Export your settings to save a backup, then import to restore them later or share with others.
                    </p>
                </div>
            </div>
            
            <div class="info-box" style="text-align: center;">
                <h4>Your Settings</h4>
                <p>All settings are stored locally in your browser using localStorage. They will persist across sessions but are specific to this browser and device.</p>
            </div>
            
            <div class="info-box" style="text-align: center;">
                <h4>Reset Settings</h4>
                <p>To reset all settings to default, clear your browser's localStorage for this site or click the button below:</p>
                <button class="launch-btn" onclick="resetSettings()" style="margin-top: 15px;">Reset to Defaults</button>
            </div>
        </div>
        
        <!-- Tutorials Section -->
        <div id="tutorials" class="content-section">
            <div class="section-header">
                <button class="back-btn" onclick="showSection('landing')">‚Üê Back</button>
                <h2>Tutorials</h2>
            </div>
            
            <div class="info-box">
                <h4>üìö Getting Started</h4>
                <p>Welcome to the Synesthesia tutorial section! Here you'll find guides to help you make the most of your MIDI visualizer collection.</p>
            </div>
            
            <div class="info-box">
                <h4>üéπ MIDI Setup Tutorial</h4>
                <p><strong>Step-by-step guide for macOS:</strong></p>
                <ul>
                    <li><strong>1. Open Audio MIDI Setup</strong> - Find it in Applications > Utilities</li>
                    <li><strong>2. Show MIDI Studio</strong> - Window menu > Show MIDI Studio (or Cmd+2)</li>
                    <li><strong>3. Create IAC Driver</strong> - Double-click "IAC Driver" icon</li>
                    <li><strong>4. Enable Device</strong> - Check "Device is online"</li>
                    <li><strong>5. Add Buses</strong> - Click + to add a bus for each track you want to visualize</li>
                    <li><strong>6. Name Your Buses</strong> - Give descriptive names (e.g., "Bass", "Lead", "Drums")</li>
                    <li><strong>7. Configure Your DAW</strong> - Route each track's MIDI output to its corresponding IAC bus</li>
                    <li><strong>8. Open Visualizer</strong> - Launch any Synesthesia visualizer in your browser</li>
                    <li><strong>9. Grant Permissions</strong> - Allow MIDI access when prompted</li>
                    <li><strong>10. Play Music</strong> - Start playback and watch your music come to life!</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h4>üé® Choosing the Right Visualizer</h4>
                <ul>
                    <li><strong>Original Lightweight:</strong> Best for experimenting with different background styles and color modes</li>
                    <li><strong>Retro Synthwave:</strong> Perfect for electronic music, synthwave, and 80s vibes</li>
                    <li><strong>Kandinsky:</strong> Ideal for classical, jazz, and complex polyphonic music</li>
                    <li><strong>Minimal Monochrome:</strong> Great for ambient, minimal techno, and meditative music</li>
                    <li><strong>Oscilloscope:</strong> Best for technical visualization and understanding waveforms</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h4>üéõÔ∏è Customization Tips</h4>
                <ul>
                    <li><strong>Particle Count:</strong> Lower for better performance, higher for more visual density</li>
                    <li><strong>Decay Rate:</strong> Slower decay creates longer trails, faster creates snappier visuals</li>
                    <li><strong>Lanes vs Layers:</strong> Use lanes mode to see each track separately, layers mode for combined composition view</li>
                    <li><strong>Background Opacity:</strong> Adjust to control how much particles blend with the background</li>
                    <li><strong>Glow Effects:</strong> Enable for dramatic visuals, disable for better performance</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h4>üé¨ Recording Your Visuals</h4>
                <p><strong>Currently available methods:</strong></p>
                <ul>
                    <li><strong>Screen Recording:</strong> Use macOS built-in screen capture (Cmd+Shift+5)</li>
                    <li><strong>OBS Studio:</strong> Free and powerful screen recording software</li>
                    <li><strong>QuickTime:</strong> Simple screen recording with File > New Screen Recording</li>
                    <li><strong>Coming Soon:</strong> Built-in export to video/GIF directly from visualizers</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h4>üí° Pro Tips</h4>
                <ul>
                    <li>Use fullscreen mode (F11) for immersive performances</li>
                    <li>Experiment with different color modes for unique aesthetics</li>
                    <li>Sync your visualizer BPM with your music tempo for rhythmic effects</li>
                    <li>Try multiple visualizers side-by-side for comparison</li>
                    <li>Save screenshots of your favorite settings for reference</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h4>üÜò Common Issues & Solutions</h4>
                <ul>
                    <li><strong>No MIDI detected:</strong> Check IAC Driver is online and DAW routing is correct</li>
                    <li><strong>Laggy performance:</strong> Reduce particle count, disable glow effects, close other tabs</li>
                    <li><strong>Wrong colors:</strong> Verify Newton's color wheel mapping in visualizer settings</li>
                    <li><strong>Audio/visual sync:</strong> Adjust DAW buffer size or visualizer update rate</li>
                </ul>
            </div>
        </div>
        
        <div class="footer">
            <p>Synesthesia MIDI Visualizer Collection ‚Ä¢ 2025</p>
            <p>The Sound Of Colour - Ruby Purches</p>
        </div>
    </div>
    
    <script>
        // Newton's color spectrum
        const NEWTON_SPECTRUM = [
            [148, 0, 211],    // Violet
            [75, 0, 130],     // Indigo
            [0, 0, 255],      // Blue
            [0, 128, 255],    // Cyan
            [0, 255, 0],      // Green
            [127, 255, 0],    // Yellow-green
            [255, 255, 0],    // Yellow
            [255, 140, 0],    // Orange
            [255, 0, 0],      // Red
            [255, 0, 128]     // Red-pink
        ];
        
        // Draw waveform letter
        function drawWaveformLetter(ctx, letter, x, y, size, color, isSmall = false) {
            ctx.strokeStyle = color;
            ctx.lineWidth = isSmall ? 3 : 5;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            ctx.shadowBlur = isSmall ? 6 : 8;
            ctx.shadowColor = color;
            
            const w = size * 0.6;
            const h = size;
            
            ctx.lineJoin = 'miter';
            ctx.miterLimit = 10;
            
            ctx.beginPath();
            
            switch(letter.toUpperCase()) {
                case 'W':
                    ctx.moveTo(x, y);
                    ctx.lineTo(x + w*0.15, y + h);
                    ctx.lineTo(x + w*0.35, y + h*0.3);
                    ctx.lineTo(x + w*0.65, y + h*0.3);
                    ctx.lineTo(x + w*0.85, y + h);
                    ctx.lineTo(x + w, y);
                    break;
                case 'E':
                    ctx.moveTo(x + w, y);
                    ctx.lineTo(x, y);
                    ctx.lineTo(x, y + h*0.45);
                    ctx.lineTo(x + w*0.7, y + h*0.45);
                    ctx.moveTo(x, y + h*0.55);
                    ctx.lineTo(x, y + h);
                    ctx.lineTo(x + w, y + h);
                    break;
                case 'L':
                    ctx.moveTo(x + w*0.2, y);
                    ctx.lineTo(x + w*0.2, y + h*0.8);
                    ctx.lineTo(x, y + h);
                    ctx.lineTo(x + w, y + h);
                    break;
                case 'C':
                    ctx.moveTo(x + w, y + h*0.15);
                    ctx.lineTo(x + w*0.7, y);
                    ctx.lineTo(x + w*0.3, y);
                    ctx.lineTo(x, y + h*0.3);
                    ctx.lineTo(x, y + h*0.7);
                    ctx.lineTo(x + w*0.3, y + h);
                    ctx.lineTo(x + w*0.7, y + h);
                    ctx.lineTo(x + w, y + h*0.85);
                    break;
                case 'O':
                    ctx.moveTo(x + w*0.3, y);
                    ctx.lineTo(x + w*0.7, y);
                    ctx.lineTo(x + w, y + h*0.3);
                    ctx.lineTo(x + w, y + h*0.7);
                    ctx.lineTo(x + w*0.7, y + h);
                    ctx.lineTo(x + w*0.3, y + h);
                    ctx.lineTo(x, y + h*0.7);
                    ctx.lineTo(x, y + h*0.3);
                    ctx.closePath();
                    break;
                case 'M':
                    ctx.moveTo(x, y + h);
                    ctx.lineTo(x, y);
                    ctx.lineTo(x + w*0.3, y + h*0.4);
                    ctx.lineTo(x + w*0.5, y + h*0.25);
                    ctx.lineTo(x + w*0.7, y + h*0.4);
                    ctx.lineTo(x + w, y);
                    ctx.lineTo(x + w, y + h);
                    break;
                case 'T':
                    ctx.moveTo(x, y);
                    ctx.lineTo(x + w, y);
                    ctx.moveTo(x + w*0.5, y);
                    ctx.lineTo(x + w*0.5, y + h*0.85);
                    ctx.lineTo(x + w*0.35, y + h);
                    ctx.lineTo(x + w*0.65, y + h);
                    break;
                case 'S':
                    ctx.moveTo(x + w, y + h*0.15);
                    ctx.lineTo(x + w*0.7, y);
                    ctx.lineTo(x + w*0.3, y);
                    ctx.lineTo(x, y + h*0.25);
                    ctx.lineTo(x + w*0.3, y + h*0.45);
                    ctx.lineTo(x + w*0.7, y + h*0.55);
                    ctx.lineTo(x + w, y + h*0.75);
                    ctx.lineTo(x + w*0.7, y + h);
                    ctx.lineTo(x + w*0.3, y + h);
                    ctx.lineTo(x, y + h*0.85);
                    break;
                case 'Y':
                    ctx.moveTo(x, y);
                    ctx.lineTo(x + w*0.5, y + h*0.5);
                    ctx.lineTo(x + w, y);
                    ctx.moveTo(x + w*0.5, y + h*0.5);
                    ctx.lineTo(x + w*0.5, y + h*0.85);
                    ctx.lineTo(x + w*0.35, y + h);
                    ctx.lineTo(x + w*0.65, y + h);
                    break;
                case 'N':
                    ctx.moveTo(x, y + h);
                    ctx.lineTo(x, y);
                    ctx.lineTo(x + w*0.2, y + h*0.3);
                    ctx.lineTo(x + w, y + h);
                    ctx.lineTo(x + w, y);
                    break;
                case 'H':
                    ctx.moveTo(x, y);
                    ctx.lineTo(x, y + h);
                    ctx.moveTo(x, y + h*0.45);
                    ctx.lineTo(x + w, y + h*0.55);
                    ctx.moveTo(x + w, y);
                    ctx.lineTo(x + w, y + h);
                    break;
                case 'A':
                    ctx.moveTo(x, y + h);
                    ctx.lineTo(x + w*0.2, y + h*0.3);
                    ctx.lineTo(x + w*0.5, y);
                    ctx.lineTo(x + w*0.8, y + h*0.3);
                    ctx.lineTo(x + w, y + h);
                    ctx.moveTo(x + w*0.25, y + h*0.55);
                    ctx.lineTo(x + w*0.75, y + h*0.65);
                    break;
                case 'I':
                    ctx.moveTo(x + w*0.5, y);
                    ctx.lineTo(x + w*0.5, y + h);
                    break;
                default:
                    break;
            }
            
            ctx.stroke();
        }
        
        // Draw waveform text
        function drawWaveformText(canvasId, text, isSmall = false) {
            const container = document.getElementById(canvasId);
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            // Larger canvas for single line title
            canvas.width = 900;
            canvas.height = 80;
            
            container.appendChild(canvas);
            
            let phase = 0;
            let isHovering = false;
            
            container.addEventListener('mouseenter', () => { isHovering = true; });
            container.addEventListener('mouseleave', () => { isHovering = false; });
            
            function drawWave(animPhase) {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // Calculate sizes and positions for "Welcome to Synesthesia"
                const words = [
                    { text: 'Welcome', size: 40, spacing: 40 },
                    { text: 'to', size: 20, spacing: 20 },
                    { text: 'Synesthesia', size: 40, spacing: 40 }
                ];
                
                // Calculate total width
                let totalWidth = 0;
                words.forEach(word => {
                    totalWidth += word.text.length * word.spacing;
                });
                
                let startX = (canvas.width - totalWidth) / 2 + 40;
                const baseY = (canvas.height - 40) / 2;
                
                // Collect all letter positions for connecting line
                const letterPositions = [];
                let currentX = startX;
                
                words.forEach((word, wordIndex) => {
                    const letterSize = word.size;
                    const letterSpacing = word.spacing;
                    const isSmallWord = word.size === 20;
                    const yOffset = isSmallWord ? 10 : 0;
                    
                    for (let i = 0; i < word.text.length; i++) {
                        const char = word.text[i];
                        if (char !== ' ') {
                            letterPositions.push({
                                x: currentX,
                                y: baseY + yOffset,
                                char: char,
                                letterSize: letterSize,
                                isSmall: isSmallWord
                            });
                        }
                        currentX += char === ' ' ? letterSpacing * 0.6 : letterSpacing;
                    }
                    
                    // Add space between words
                    currentX += word.spacing * 0.4;
                });
                
                // Draw connecting oscilloscope line FIRST (behind letters)
                if (letterPositions.length > 1) {
                    ctx.lineWidth = 3;
                    ctx.lineCap = 'round';
                    ctx.lineJoin = 'round';
                    
                    for (let i = 0; i < letterPositions.length - 1; i++) {
                        const pos1 = letterPositions[i];
                        const pos2 = letterPositions[i + 1];
                        
                        // Calculate color for this segment
                        const colorProgress = i / (letterPositions.length - 1);
                        const colorIndex = colorProgress * (NEWTON_SPECTRUM.length - 1);
                        const colorIdx1 = Math.floor(colorIndex);
                        const colorIdx2 = Math.min(colorIdx1 + 1, NEWTON_SPECTRUM.length - 1);
                        const colorBlend = colorIndex - colorIdx1;
                        
                        const color1 = NEWTON_SPECTRUM[colorIdx1];
                        const color2 = NEWTON_SPECTRUM[colorIdx2];
                        
                        const r = Math.round(color1[0] * (1 - colorBlend) + color2[0] * colorBlend);
                        const g = Math.round(color1[1] * (1 - colorBlend) + color2[1] * colorBlend);
                        const b = Math.round(color1[2] * (1 - colorBlend) + color2[2] * colorBlend);
                        
                        ctx.strokeStyle = `rgba(${r}, ${g}, ${b}, 0.6)`;
                        ctx.shadowBlur = 8;
                        ctx.shadowColor = `rgba(${r}, ${g}, ${b}, 0.4)`;
                        
                        const startXLine = pos1.x + pos1.letterSize * 0.3;
                        const endXLine = pos2.x;
                        const centerY = pos1.y + pos1.letterSize / 2;
                        
                        // Create oscilloscope wave through multiple points
                        ctx.beginPath();
                        const segments = 20;
                        
                        for (let s = 0; s <= segments; s++) {
                            const t = s / segments;
                            const x = startXLine + (endXLine - startXLine) * t;
                            
                            // Multiple sine waves for complex oscilloscope effect
                            const amplitude = pos1.isSmall ? 0.5 : 1;
                            const wave1 = Math.sin(x * 0.08 + animPhase) * 12 * amplitude;
                            const wave2 = Math.sin(x * 0.15 - animPhase * 0.7) * 6 * amplitude;
                            const wave3 = Math.sin(x * 0.05 + animPhase * 1.5) * 8 * amplitude;
                            const totalWave = wave1 + wave2 + wave3;
                            
                            const y = centerY + totalWave;
                            
                            if (s === 0) {
                                ctx.moveTo(x, y);
                            } else {
                                ctx.lineTo(x, y);
                            }
                        }
                        
                        ctx.stroke();
                    }
                }
                
                // Draw letters on top
                currentX = startX;
                
                words.forEach((word, wordIndex) => {
                    const letterSize = word.size;
                    const letterSpacing = word.spacing;
                    const isSmallWord = word.size === 20;
                    const yOffset = isSmallWord ? 10 : 0;
                    
                    for (let i = 0; i < word.text.length; i++) {
                        const char = word.text[i];
                        
                        // Calculate color
                        const totalChars = words.reduce((sum, w) => sum + w.text.length, 0);
                        const charIndex = words.slice(0, wordIndex).reduce((sum, w) => sum + w.text.length, 0) + i;
                        const colorProgress = charIndex / (totalChars - 1);
                        const colorIndex = colorProgress * (NEWTON_SPECTRUM.length - 1);
                        const colorIdx1 = Math.floor(colorIndex);
                        const colorIdx2 = Math.min(colorIdx1 + 1, NEWTON_SPECTRUM.length - 1);
                        const colorBlend = colorIndex - colorIdx1;
                        
                        const color1 = NEWTON_SPECTRUM[colorIdx1];
                        const color2 = NEWTON_SPECTRUM[colorIdx2];
                        
                        const r = Math.round(color1[0] * (1 - colorBlend) + color2[0] * colorBlend);
                        const g = Math.round(color1[1] * (1 - colorBlend) + color2[1] * colorBlend);
                        const b = Math.round(color1[2] * (1 - colorBlend) + color2[2] * colorBlend);
                        
                        const color = `rgb(${r}, ${g}, ${b})`;
                        const waveOffset = isHovering ? Math.sin(currentX * 0.05 + animPhase) * 5 : 0;
                        
                        drawWaveformLetter(ctx, char, currentX, baseY + waveOffset + yOffset, letterSize, color, isSmallWord);
                        
                        currentX += char === ' ' ? letterSpacing * 0.6 : letterSpacing;
                    }
                    
                    // Add space between words
                    currentX += word.spacing * 0.4;
                });
            }
            
            function animate() {
                drawWave(phase);
                phase += 0.03;
                requestAnimationFrame(animate);
            }
            
            animate();
        }
        
        // Draw rainbow circle
        function drawRainbowCircle() {
            const canvas = document.getElementById('rainbowCircle');
            const ctx = canvas.getContext('2d');
            const size = 550;
            
            canvas.width = size;
            canvas.height = size;
            
            let rotation = 0;
            
            function animate() {
                ctx.clearRect(0, 0, size, size);
                
                const centerX = size / 2;
                const centerY = size / 2;
                const radius = size * 0.35;
                const lineWidth = 120;
                
                ctx.save();
                ctx.translate(centerX, centerY);
                ctx.rotate(rotation);
                ctx.translate(-centerX, -centerY);
                
                // Draw multiple rotating arcs
                const numArcs = 12;
                for (let i = 0; i < numArcs; i++) {
                    const startAngle = (i / numArcs) * Math.PI * 2;
                    const endAngle = ((i + 1) / numArcs) * Math.PI * 2;
                    
                    const colorIndex = (i / numArcs) * (NEWTON_SPECTRUM.length - 1);
                    const colorIdx1 = Math.floor(colorIndex);
                    const colorIdx2 = Math.min(colorIdx1 + 1, NEWTON_SPECTRUM.length - 1);
                    const colorBlend = colorIndex - colorIdx1;
                    
                    const color1 = NEWTON_SPECTRUM[colorIdx1];
                    const color2 = NEWTON_SPECTRUM[colorIdx2];
                    
                    const r = Math.round(color1[0] * (1 - colorBlend) + color2[0] * colorBlend);
                    const g = Math.round(color1[1] * (1 - colorBlend) + color2[1] * colorBlend);
                    const b = Math.round(color1[2] * (1 - colorBlend) + color2[2] * colorBlend);
                    
                    ctx.beginPath();
                    ctx.arc(centerX, centerY, radius, startAngle, endAngle);
                    ctx.strokeStyle = `rgba(${r}, ${g}, ${b}, 0.8)`;
                    ctx.lineWidth = lineWidth;
                    ctx.stroke();
                }
                
                ctx.restore();
                
                rotation += 0.005;
                requestAnimationFrame(animate);
            }
            
            animate();
        }
        
        // Navigation
        function showSection(sectionId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.getElementById(sectionId).classList.add('active');
            
            // Show font toolbar only in settings section
            const fontToolbar = document.querySelector('.font-toolbar');
            if (sectionId === 'settings') {
                fontToolbar.classList.add('show');
            } else {
                fontToolbar.classList.remove('show');
            }
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // Initialize
        drawWaveformText('titleWave1', 'Welcome to Synesthesia');
        drawRainbowCircle();
        
        // Font Selector Functions
        function changeFont(fontName, button) {
            // Update body font
            if (fontName === 'Inter') {
                document.body.style.fontFamily = `'${fontName}', sans-serif`;
            } else {
                document.body.style.fontFamily = `'${fontName}', monospace`;
            }
            
            // Update active state
            document.querySelectorAll('.font-option').forEach(opt => {
                opt.classList.remove('active');
            });
            button.classList.add('active');
            
            // Save preference to localStorage
            localStorage.setItem('selectedFont', fontName);
            
            // Show confirmation
            const toolbar = document.querySelector('.font-toolbar');
            const originalBorder = toolbar.style.borderColor;
            toolbar.style.borderColor = 'rgba(58, 134, 255, 0.8)';
            setTimeout(() => {
                toolbar.style.borderColor = originalBorder;
            }, 300);
        }
        
        function resetSettings() {
            if (confirm('Are you sure you want to reset all settings to defaults? This will reload the page.')) {
                localStorage.removeItem('selectedFont');
                localStorage.removeItem('fontSize');
                localStorage.removeItem('fontToolbarCollapsed');
                location.reload();
            }
        }
        
        // Admin Panel Functions
        function getAdminData() {
            return {
                subtitle: document.querySelector('.subtitle')?.textContent || 'The Sound of Colour',
                footer: document.querySelector('.footer p:last-child')?.textContent || 'The Sound Of Colour - Ruby Purches',
                folder1: document.querySelector('.nav-card:nth-child(1) h3')?.textContent || 'How it works!',
                folder2: document.querySelector('.nav-card:nth-child(2) h3')?.textContent || 'Demo',
                folder3: document.querySelector('.nav-card:nth-child(3) h3')?.textContent || 'Versions',
                folder4: document.querySelector('.nav-card:nth-child(4) h3')?.textContent || 'Updates',
                folder5: document.querySelector('.nav-card:nth-child(5) h3')?.textContent || 'User templates',
                folder6: document.querySelector('.nav-card:nth-child(6) h3')?.textContent || 'Resources',
                folder7: document.querySelector('.nav-card:nth-child(7) h3')?.textContent || 'Settings',
                folder8: document.querySelector('.nav-card:nth-child(8) h3')?.textContent || 'Tutorials',
                howTitle1: document.querySelector('#howItWorks .info-box:nth-child(2) h4')?.textContent || 'Real Time MIDI to Colour Converter',
                howContent1: document.querySelector('#howItWorks .info-box:nth-child(2) p')?.textContent || '',
                howTitle2: document.querySelector('#howItWorks .info-box:nth-child(3) h4')?.textContent || 'Theory, Models and Scale',
                howContent2: document.querySelector('#howItWorks .info-box:nth-child(3) p:nth-of-type(2)')?.textContent || '',
                howTitle3: document.querySelector('#howItWorks .info-box:nth-child(4) h4')?.textContent || 'Summary & Diagrams',
                howContent3: document.querySelector('#howItWorks .info-box:nth-child(4) p:nth-of-type(2)')?.textContent || ''
            };
        }
        
        function loadAdminData() {
            const saved = localStorage.getItem('adminData');
            const data = saved ? JSON.parse(saved) : getAdminData();
            
            document.getElementById('editSubtitle').value = data.subtitle || '';
            document.getElementById('editFooter').value = data.footer || '';
            document.getElementById('editFolder1').value = data.folder1 || '';
            document.getElementById('editFolder2').value = data.folder2 || '';
            document.getElementById('editFolder3').value = data.folder3 || '';
            document.getElementById('editFolder4').value = data.folder4 || '';
            document.getElementById('editFolder5').value = data.folder5 || '';
            document.getElementById('editFolder6').value = data.folder6 || '';
            document.getElementById('editFolder7').value = data.folder7 || '';
            document.getElementById('editFolder8').value = data.folder8 || '';
            document.getElementById('editHowTitle1').value = data.howTitle1 || '';
            document.getElementById('editHowContent1').value = data.howContent1 || '';
            document.getElementById('editHowTitle2').value = data.howTitle2 || '';
            document.getElementById('editHowContent2').value = data.howContent2 || '';
            document.getElementById('editHowTitle3').value = data.howTitle3 || '';
            document.getElementById('editHowContent3').value = data.howContent3 || '';
        }
        
        function saveAdminChanges() {
            const data = {
                subtitle: document.getElementById('editSubtitle').value,
                footer: document.getElementById('editFooter').value,
                folder1: document.getElementById('editFolder1').value,
                folder2: document.getElementById('editFolder2').value,
                folder3: document.getElementById('editFolder3').value,
                folder4: document.getElementById('editFolder4').value,
                folder5: document.getElementById('editFolder5').value,
                folder6: document.getElementById('editFolder6').value,
                folder7: document.getElementById('editFolder7').value,
                folder8: document.getElementById('editFolder8').value,
                howTitle1: document.getElementById('editHowTitle1').value,
                howContent1: document.getElementById('editHowContent1').value,
                howTitle2: document.getElementById('editHowTitle2').value,
                howContent2: document.getElementById('editHowContent2').value,
                howTitle3: document.getElementById('editHowTitle3').value,
                howContent3: document.getElementById('editHowContent3').value
            };
            
            localStorage.setItem('adminData', JSON.stringify(data));
            applyAdminChanges(data);
            
            alert('‚úÖ Changes saved successfully! Your edits are now visible on the page.');
        }
        
        function applyAdminChanges(data) {
            // Apply changes to the page
            if (data.subtitle) document.querySelector('.subtitle').textContent = data.subtitle;
            if (data.footer) document.querySelector('.footer p:last-child').textContent = data.footer;
            
            // Folders
            if (data.folder1) document.querySelector('.nav-card:nth-child(1) h3').textContent = data.folder1;
            if (data.folder2) document.querySelector('.nav-card:nth-child(2) h3').textContent = data.folder2;
            if (data.folder3) document.querySelector('.nav-card:nth-child(3) h3').textContent = data.folder3;
            if (data.folder4) document.querySelector('.nav-card:nth-child(4) h3').textContent = data.folder4;
            if (data.folder5) document.querySelector('.nav-card:nth-child(5) h3').textContent = data.folder5;
            if (data.folder6) document.querySelector('.nav-card:nth-child(6) h3').textContent = data.folder6;
            if (data.folder7) document.querySelector('.nav-card:nth-child(7) h3').textContent = data.folder7;
            if (data.folder8) document.querySelector('.nav-card:nth-child(8) h3').textContent = data.folder8;
            
            // How It Works content
            if (data.howTitle1) {
                const h4 = document.querySelector('#howItWorks .info-box:nth-child(2) h4');
                if (h4) h4.textContent = data.howTitle1;
            }
            if (data.howContent1) {
                const p = document.querySelector('#howItWorks .info-box:nth-child(2) p');
                if (p) p.textContent = data.howContent1;
            }
            if (data.howTitle2) {
                const h4 = document.querySelector('#howItWorks .info-box:nth-child(3) h4');
                if (h4) h4.textContent = data.howTitle2;
            }
            if (data.howContent2) {
                const p = document.querySelector('#howItWorks .info-box:nth-child(3) p:nth-of-type(2)');
                if (p) p.textContent = data.howContent2;
            }
            if (data.howTitle3) {
                const h4 = document.querySelector('#howItWorks .info-box:nth-child(4) h4');
                if (h4) h4.textContent = data.howTitle3;
            }
            if (data.howContent3) {
                const p = document.querySelector('#howItWorks .info-box:nth-child(4) p:nth-of-type(2)');
                if (p) p.textContent = data.howContent3;
            }
        }
        
        function exportAdminData() {
            const data = {
                subtitle: document.getElementById('editSubtitle').value,
                footer: document.getElementById('editFooter').value,
                folder1: document.getElementById('editFolder1').value,
                folder2: document.getElementById('editFolder2').value,
                folder3: document.getElementById('editFolder3').value,
                folder4: document.getElementById('editFolder4').value,
                folder5: document.getElementById('editFolder5').value,
                folder6: document.getElementById('editFolder6').value,
                folder7: document.getElementById('editFolder7').value,
                folder8: document.getElementById('editFolder8').value,
                howTitle1: document.getElementById('editHowTitle1').value,
                howContent1: document.getElementById('editHowContent1').value,
                howTitle2: document.getElementById('editHowTitle2').value,
                howContent2: document.getElementById('editHowContent2').value,
                howTitle3: document.getElementById('editHowTitle3').value,
                howContent3: document.getElementById('editHowContent3').value
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'synesthesia-settings.json';
            link.click();
            URL.revokeObjectURL(url);
            
            alert('üì• Settings exported! File downloaded as "synesthesia-settings.json"');
        }
        
        function importAdminData() {
            document.getElementById('importFileInput').click();
        }
        
        function handleImportFile(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);
                    
                    // Load into form
                    document.getElementById('editSubtitle').value = data.subtitle || '';
                    document.getElementById('editFooter').value = data.footer || '';
                    document.getElementById('editFolder1').value = data.folder1 || '';
                    document.getElementById('editFolder2').value = data.folder2 || '';
                    document.getElementById('editFolder3').value = data.folder3 || '';
                    document.getElementById('editFolder4').value = data.folder4 || '';
                    document.getElementById('editFolder5').value = data.folder5 || '';
                    document.getElementById('editFolder6').value = data.folder6 || '';
                    document.getElementById('editFolder7').value = data.folder7 || '';
                    document.getElementById('editFolder8').value = data.folder8 || '';
                    document.getElementById('editHowTitle1').value = data.howTitle1 || '';
                    document.getElementById('editHowContent1').value = data.howContent1 || '';
                    document.getElementById('editHowTitle2').value = data.howTitle2 || '';
                    document.getElementById('editHowContent2').value = data.howContent2 || '';
                    document.getElementById('editHowTitle3').value = data.howTitle3 || '';
                    document.getElementById('editHowContent3').value = data.howContent3 || '';
                    
                    alert('üì§ Settings imported successfully! Click "Save All Changes" to apply them.');
                } catch (error) {
                    alert('‚ùå Error importing file. Please make sure it\'s a valid JSON file.');
                }
            };
            reader.readAsText(file);
            
            // Reset file input
            event.target.value = '';
        }
        
        function resetAdminData() {
            if (confirm('‚ö†Ô∏è Are you sure you want to reset all content to defaults? This cannot be undone.')) {
                localStorage.removeItem('adminData');
                location.reload();
            }
        }
        
        // Edit Mode Functions
        let editModeActive = false;
        
        function toggleEditMode() {
            editModeActive = !editModeActive;
            const btn = document.getElementById('editModeBtn');
            
            if (editModeActive) {
                btn.textContent = '‚úèÔ∏è Edit Mode: ON';
                btn.classList.add('active');
                makeElementsEditable();
            } else {
                btn.textContent = '‚úèÔ∏è Edit Mode: OFF';
                btn.classList.remove('active');
                removeEditableClass();
            }
        }
        
        function makeElementsEditable() {
            // Make subtitle editable
            const subtitle = document.querySelector('.subtitle');
            if (subtitle) {
                subtitle.classList.add('editable');
                subtitle.onclick = (e) => {
                    e.stopPropagation();
                    openEditDialog('Subtitle', subtitle.textContent, (newText) => {
                        subtitle.textContent = newText;
                        saveToLocalStorage('subtitle', newText);
                    }, false, () => {
                        subtitle.style.display = 'none';
                        saveToLocalStorage('subtitle-hidden', 'true');
                    });
                };
            }
            
            // Make footer editable
            const footer = document.querySelector('.footer p:last-child');
            if (footer) {
                footer.classList.add('editable');
                footer.onclick = (e) => {
                    e.stopPropagation();
                    openEditDialog('Footer', footer.textContent, (newText) => {
                        footer.textContent = newText;
                        saveToLocalStorage('footer', newText);
                    }, false, () => {
                        footer.style.display = 'none';
                        saveToLocalStorage('footer-hidden', 'true');
                    });
                };
            }
            
            // Make folder names editable and deletable
            document.querySelectorAll('.nav-card').forEach((card, index) => {
                const h3 = card.querySelector('h3');
                if (h3) {
                    h3.classList.add('editable');
                    h3.onclick = (e) => {
                        e.stopPropagation();
                        openEditDialog(`Folder ${index + 1}`, h3.textContent, (newText) => {
                            h3.textContent = newText;
                            saveToLocalStorage(`folder${index + 1}`, newText);
                        }, false, () => {
                            card.style.display = 'none';
                            saveToLocalStorage(`folder${index + 1}-hidden`, 'true');
                        });
                    };
                }
            });
            
            // Make ALL h4 headers editable
            document.querySelectorAll('h4').forEach((h4, index) => {
                h4.classList.add('editable');
                h4.onclick = (e) => {
                    e.stopPropagation();
                    openEditDialog(`Header ${index + 1}`, h4.textContent, (newText) => {
                        h4.textContent = newText;
                        saveToLocalStorage(`h4-${index}`, newText);
                    }, false, () => {
                        const infoBox = h4.closest('.info-box');
                        if (infoBox) {
                            infoBox.style.display = 'none';
                            saveToLocalStorage(`h4-${index}-section-hidden`, 'true');
                        } else {
                            h4.style.display = 'none';
                            saveToLocalStorage(`h4-${index}-hidden`, 'true');
                        }
                    });
                };
            });
            
            // Make ALL h2 headers editable
            document.querySelectorAll('h2').forEach((h2, index) => {
                h2.classList.add('editable');
                h2.onclick = (e) => {
                    e.stopPropagation();
                    openEditDialog(`Section Title ${index + 1}`, h2.textContent, (newText) => {
                        h2.textContent = newText;
                        saveToLocalStorage(`h2-${index}`, newText);
                    });
                };
            });
            
            // Make ALL h3 outside nav-cards editable
            document.querySelectorAll('h3:not(.nav-card h3)').forEach((h3, index) => {
                h3.classList.add('editable');
                h3.onclick = (e) => {
                    e.stopPropagation();
                    openEditDialog(`Heading ${index + 1}`, h3.textContent, (newText) => {
                        h3.textContent = newText;
                        saveToLocalStorage(`h3-other-${index}`, newText);
                    });
                };
            });
            
            // Make ALL paragraphs editable
            document.querySelectorAll('p').forEach((p, index) => {
                if (p.textContent.trim() && !p.closest('.font-toolbar') && !p.closest('.edit-dialog')) {
                    p.classList.add('editable');
                    p.onclick = (e) => {
                        e.stopPropagation();
                        openEditDialog(`Paragraph ${index + 1}`, p.innerHTML, (newText) => {
                            p.innerHTML = newText;
                            saveToLocalStorage(`p-${index}`, newText);
                        }, true, () => {
                            p.style.display = 'none';
                            saveToLocalStorage(`p-${index}-hidden`, 'true');
                        });
                    };
                }
            });
            
            // Make ALL list items editable
            document.querySelectorAll('li').forEach((li, index) => {
                li.classList.add('editable');
                li.onclick = (e) => {
                    e.stopPropagation();
                    openEditDialog(`List Item ${index + 1}`, li.innerHTML, (newText) => {
                        li.innerHTML = newText;
                        saveToLocalStorage(`li-${index}`, newText);
                    }, false, () => {
                        li.style.display = 'none';
                        saveToLocalStorage(`li-${index}-hidden`, 'true');
                    });
                };
            });
            
            // Make info boxes deletable
            document.querySelectorAll('.info-box').forEach((box, index) => {
                const deleteIndicator = document.createElement('div');
                deleteIndicator.className = 'delete-indicator';
                deleteIndicator.textContent = 'üóëÔ∏è Click to delete entire section';
                deleteIndicator.style.cssText = 'position: absolute; top: 5px; right: 5px; background: rgba(255,100,100,0.3); padding: 5px 10px; border-radius: 5px; font-size: 11px; cursor: pointer; z-index: 100; display: none;';
                box.style.position = 'relative';
                box.appendChild(deleteIndicator);
                
                box.addEventListener('mouseenter', () => {
                    if (editModeActive) deleteIndicator.style.display = 'block';
                });
                box.addEventListener('mouseleave', () => {
                    deleteIndicator.style.display = 'none';
                });
                
                deleteIndicator.onclick = (e) => {
                    e.stopPropagation();
                    if (confirm('Delete this entire section?')) {
                        box.style.display = 'none';
                        saveToLocalStorage(`infobox-${index}-hidden`, 'true');
                    }
                };
            });
        }
        
        function removeEditableClass() {
            document.querySelectorAll('.editable').forEach(el => {
                el.classList.remove('editable');
                el.onclick = null;
            });
            document.querySelectorAll('.delete-indicator').forEach(el => el.remove());
        }
        
        function openEditDialog(label, currentText, onSave, isMultiline = false, onDelete = null) {
            if (!editModeActive) return;
            
            const overlay = document.createElement('div');
            overlay.className = 'edit-overlay';
            
            const dialog = document.createElement('div');
            dialog.className = 'edit-dialog';
            
            const title = document.createElement('h3');
            title.textContent = `Edit: ${label}`;
            
            const input = document.createElement(isMultiline ? 'textarea' : 'input');
            input.value = currentText;
            input.placeholder = 'Enter text...';
            if (!isMultiline) {
                input.type = 'text';
            }
            
            const buttons = document.createElement('div');
            buttons.className = 'edit-dialog-buttons';
            
            const saveBtn = document.createElement('button');
            saveBtn.className = 'save-btn';
            saveBtn.textContent = 'üíæ Save';
            saveBtn.onclick = () => {
                onSave(input.value);
                document.body.removeChild(overlay);
            };
            
            const cancelBtn = document.createElement('button');
            cancelBtn.className = 'cancel-btn';
            cancelBtn.textContent = '‚úñ Cancel';
            cancelBtn.onclick = () => {
                document.body.removeChild(overlay);
            };
            
            buttons.appendChild(cancelBtn);
            
            if (onDelete) {
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'cancel-btn';
                deleteBtn.style.background = 'rgba(255, 100, 100, 0.5)';
                deleteBtn.textContent = 'üóëÔ∏è Delete';
                deleteBtn.onclick = () => {
                    if (confirm(`Are you sure you want to delete this ${label}?`)) {
                        onDelete();
                        document.body.removeChild(overlay);
                    }
                };
                buttons.appendChild(deleteBtn);
            }
            
            buttons.appendChild(saveBtn);
            
            dialog.appendChild(title);
            dialog.appendChild(input);
            dialog.appendChild(buttons);
            overlay.appendChild(dialog);
            document.body.appendChild(overlay);
            
            input.focus();
            if (!isMultiline) {
                input.select();
            }
            
            // Save on Enter (for single-line inputs)
            if (!isMultiline) {
                input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        saveBtn.click();
                    }
                });
            }
            
            // Close on Escape
            overlay.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    cancelBtn.click();
                }
            });
            
            // Close on clicking outside
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) {
                    cancelBtn.click();
                }
            });
        }
        
        function saveToLocalStorage(key, value) {
            const savedData = JSON.parse(localStorage.getItem('editableContent') || '{}');
            savedData[key] = value;
            localStorage.setItem('editableContent', JSON.stringify(savedData));
        }
        
        function loadEditableContent() {
            const savedData = JSON.parse(localStorage.getItem('editableContent') || '{}');
            
            // Load and apply all saved data
            Object.keys(savedData).forEach(key => {
                const value = savedData[key];
                
                // Handle hidden elements
                if (key.endsWith('-hidden') && value === 'true') {
                    const baseKey = key.replace('-hidden', '');
                    
                    if (key === 'subtitle-hidden') {
                        const el = document.querySelector('.subtitle');
                        if (el) el.style.display = 'none';
                    } else if (key === 'footer-hidden') {
                        const el = document.querySelector('.footer p:last-child');
                        if (el) el.style.display = 'none';
                    } else if (baseKey.startsWith('folder')) {
                        const index = parseInt(baseKey.replace('folder', ''));
                        const card = document.querySelector(`.nav-card:nth-child(${index})`);
                        if (card) card.style.display = 'none';
                    } else if (key.includes('section-hidden')) {
                        const match = key.match(/h4-(\d+)-section-hidden/);
                        if (match) {
                            const index = parseInt(match[1]);
                            const h4s = document.querySelectorAll('h4');
                            if (h4s[index]) {
                                const infoBox = h4s[index].closest('.info-box');
                                if (infoBox) infoBox.style.display = 'none';
                            }
                        }
                    } else if (baseKey.startsWith('infobox-')) {
                        const index = parseInt(baseKey.replace('infobox-', ''));
                        const boxes = document.querySelectorAll('.info-box');
                        if (boxes[index]) boxes[index].style.display = 'none';
                    } else if (baseKey.startsWith('h4-')) {
                        const index = parseInt(baseKey.replace('h4-', ''));
                        const h4s = document.querySelectorAll('h4');
                        if (h4s[index]) h4s[index].style.display = 'none';
                    } else if (baseKey.startsWith('p-')) {
                        const index = parseInt(baseKey.replace('p-', ''));
                        const ps = document.querySelectorAll('p');
                        if (ps[index]) ps[index].style.display = 'none';
                    } else if (baseKey.startsWith('li-')) {
                        const index = parseInt(baseKey.replace('li-', ''));
                        const lis = document.querySelectorAll('li');
                        if (lis[index]) lis[index].style.display = 'none';
                    }
                    return;
                }
                
                // Handle text content
                if (key === 'subtitle') {
                    const el = document.querySelector('.subtitle');
                    if (el) el.textContent = value;
                } else if (key === 'footer') {
                    const el = document.querySelector('.footer p:last-child');
                    if (el) el.textContent = value;
                } else if (key.startsWith('folder') && !key.includes('-hidden')) {
                    const index = parseInt(key.replace('folder', ''));
                    const h3 = document.querySelector(`.nav-card:nth-child(${index}) h3`);
                    if (h3) h3.textContent = value;
                } else if (key.startsWith('h4-') && !key.includes('-hidden')) {
                    const index = parseInt(key.replace('h4-', ''));
                    const h4s = document.querySelectorAll('h4');
                    if (h4s[index]) h4s[index].textContent = value;
                } else if (key.startsWith('h2-')) {
                    const index = parseInt(key.replace('h2-', ''));
                    const h2s = document.querySelectorAll('h2');
                    if (h2s[index]) h2s[index].textContent = value;
                } else if (key.startsWith('h3-other-')) {
                    const index = parseInt(key.replace('h3-other-', ''));
                    const h3s = document.querySelectorAll('h3:not(.nav-card h3)');
                    if (h3s[index]) h3s[index].textContent = value;
                } else if (key.startsWith('p-') && !key.includes('-hidden')) {
                    const index = parseInt(key.replace('p-', ''));
                    const ps = document.querySelectorAll('p');
                    if (ps[index]) ps[index].innerHTML = value;
                } else if (key.startsWith('li-') && !key.includes('-hidden')) {
                    const index = parseInt(key.replace('li-', ''));
                    const lis = document.querySelectorAll('li');
                    if (lis[index]) lis[index].innerHTML = value;
                }
            });
        }
        
        function changeFontSize(value) {
            // Update font size
            document.body.style.fontSize = value + '%';
            
            // Update display value
            document.getElementById('fontSizeValue').textContent = value + '%';
            
            // Save preference to localStorage
            localStorage.setItem('fontSize', value);
        }
        
        function setFontSize(value) {
            // Update slider
            document.getElementById('fontSizeSlider').value = value;
            
            // Apply font size
            changeFontSize(value);
        }
        
        function toggleFontToolbar() {
            const options = document.getElementById('fontOptions');
            const sizeControls = document.getElementById('fontSizeControls');
            const toggle = document.querySelector('.font-toolbar-toggle');
            
            const isCollapsed = options.classList.contains('collapsed');
            
            options.classList.toggle('collapsed');
            sizeControls.classList.toggle('collapsed');
            
            if (!isCollapsed) {
                toggle.textContent = '+';
            } else {
                toggle.textContent = '‚àí';
            }
            
            // Save state to localStorage
            localStorage.setItem('fontToolbarCollapsed', !isCollapsed);
        }
        
        // Load saved font preference on page load
        window.addEventListener('DOMContentLoaded', () => {
            const savedFont = localStorage.getItem('selectedFont');
            const savedFontSize = localStorage.getItem('fontSize');
            const toolbarCollapsed = localStorage.getItem('fontToolbarCollapsed') === 'true';
            
            // Apply saved font
            if (savedFont) {
                if (savedFont === 'Inter') {
                    document.body.style.fontFamily = `'${savedFont}', sans-serif`;
                } else {
                    document.body.style.fontFamily = `'${savedFont}', monospace`;
                }
                
                // Update active button
                document.querySelectorAll('.font-option').forEach(opt => {
                    const fontDiv = opt.querySelector('div:first-child');
                    if (fontDiv && (fontDiv.textContent === savedFont || fontDiv.textContent.startsWith(savedFont))) {
                        opt.classList.add('active');
                    } else {
                        opt.classList.remove('active');
                    }
                });
            }
            
            // Apply saved font size
            if (savedFontSize) {
                document.body.style.fontSize = savedFontSize + '%';
                document.getElementById('fontSizeSlider').value = savedFontSize;
                document.getElementById('fontSizeValue').textContent = savedFontSize + '%';
            }
            
            // Restore toolbar state
            if (toolbarCollapsed) {
                document.getElementById('fontOptions').classList.add('collapsed');
                document.getElementById('fontSizeControls').classList.add('collapsed');
                document.querySelector('.font-toolbar-toggle').textContent = '+';
            }
            
            // Load and apply admin data
            const savedAdminData = localStorage.getItem('adminData');
            if (savedAdminData) {
                const data = JSON.parse(savedAdminData);
                applyAdminChanges(data);
            }
            
            // Load admin form data when available
            if (document.getElementById('editSubtitle')) {
                loadAdminData();
            }
            
            // Load editable content from localStorage
            loadEditableContent();
            
            // Load category states for versions section
            loadCategoryStates();
        });
        
        // Enhanced Versions - Category Toggle Function
        function toggleCategory(categoryId) {
            const content = document.getElementById(categoryId + '-content');
            const header = content.previousElementSibling;
            
            if (content.classList.contains('collapsed')) {
                content.classList.remove('collapsed');
                header.classList.remove('collapsed');
            } else {
                content.classList.add('collapsed');
                header.classList.add('collapsed');
            }
            
            // Save state to localStorage
            const collapsedCategories = JSON.parse(localStorage.getItem('collapsedCategories') || '{}');
            collapsedCategories[categoryId] = content.classList.contains('collapsed');
            localStorage.setItem('collapsedCategories', JSON.stringify(collapsedCategories));
        }

        // Load collapsed states on page load
        function loadCategoryStates() {
            const collapsedCategories = JSON.parse(localStorage.getItem('collapsedCategories') || '{}');
            
            Object.keys(collapsedCategories).forEach(categoryId => {
                if (collapsedCategories[categoryId]) {
                    const content = document.getElementById(categoryId + '-content');
                    const header = content?.previousElementSibling;
                    if (content && header) {
                        content.classList.add('collapsed');
                        header.classList.add('collapsed');
                    }
                }
            });
        }
    </script>
</body>
</html>